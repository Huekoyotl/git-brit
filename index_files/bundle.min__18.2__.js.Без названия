if("undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");!function(){"use strict";var t=jQuery.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1==t[0]&&9==t[1]&&t[2]<1||3<t[0])throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4")}(),function(i){"use strict";i.fn.emulateTransitionEnd=function(t){var e=!1,n=this;return i(this).one("bsTransitionEnd",function(){e=!0}),setTimeout(function(){e||i(n).trigger(i.support.transition.end)},t),this},i(function(){i.support.transition=function(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in e)if(void 0!==t.style[n])return{end:e[n]};return!1}(),i.support.transition&&(i.event.special.bsTransitionEnd={bindType:i.support.transition.end,delegateType:i.support.transition.end,handle:function(t){if(i(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}})})}(jQuery),function(r){"use strict";function a(t){r(t).on("click",e,this.close)}var e='[data-dismiss="alert"]';a.VERSION="3.4.1",a.TRANSITION_DURATION=150,a.prototype.close=function(t){var e=r(this),n=e.attr("data-target");n="#"===(n=n||(n=e.attr("href"))&&n.replace(/.*(?=#[^\s]*$)/,""))?[]:n;var i=r(document).find(n);function o(){i.detach().trigger("closed.bs.alert").remove()}t&&t.preventDefault(),i.length||(i=e.closest(".alert")),i.trigger(t=r.Event("close.bs.alert")),t.isDefaultPrevented()||(i.removeClass("in"),r.support.transition&&i.hasClass("fade")?i.one("bsTransitionEnd",o).emulateTransitionEnd(a.TRANSITION_DURATION):o())};var t=r.fn.alert;r.fn.alert=function(n){return this.each(function(){var t=r(this),e=t.data("bs.alert");e||t.data("bs.alert",e=new a(this)),"string"==typeof n&&e[n].call(t)})},r.fn.alert.Constructor=a,r.fn.alert.noConflict=function(){return r.fn.alert=t,this},r(document).on("click.bs.alert.data-api",e,a.prototype.close)}(jQuery),function(r){"use strict";var o=function(t,e){this.$element=r(t),this.options=r.extend({},o.DEFAULTS,e),this.isLoading=!1};function n(i){return this.each(function(){var t=r(this),e=t.data("bs.button"),n="object"==typeof i&&i;e||t.data("bs.button",e=new o(this,n)),"toggle"==i?e.toggle():i&&e.setState(i)})}o.VERSION="3.4.1",o.DEFAULTS={loadingText:"loading..."},o.prototype.setState=function(t){var e="disabled",n=this.$element,i=n.is("input")?"val":"html",o=n.data();t+="Text",null==o.resetText&&n.data("resetText",n[i]()),setTimeout(r.proxy(function(){n[i](null==o[t]?this.options[t]:o[t]),"loadingText"==t?(this.isLoading=!0,n.addClass(e).attr(e,e).prop(e,!0)):this.isLoading&&(this.isLoading=!1,n.removeClass(e).removeAttr(e).prop(e,!1))},this),0)},o.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var n=this.$element.find("input");"radio"==n.prop("type")?(n.prop("checked")&&(t=!1),e.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==n.prop("type")&&(n.prop("checked")!==this.$element.hasClass("active")&&(t=!1),this.$element.toggleClass("active")),n.prop("checked",this.$element.hasClass("active")),t&&n.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var t=r.fn.button;r.fn.button=n,r.fn.button.Constructor=o,r.fn.button.noConflict=function(){return r.fn.button=t,this},r(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(t){var e=r(t.target).closest(".btn");n.call(e,"toggle"),r(t.target).is('input[type="radio"], input[type="checkbox"]')||(t.preventDefault(),e.is("input,button")?e.trigger("focus"):e.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){r(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))})}(jQuery),function(u){"use strict";function h(t,e){this.$element=u(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=e,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",u.proxy(this.keydown,this)),"hover"!=this.options.pause||"ontouchstart"in document.documentElement||this.$element.on("mouseenter.bs.carousel",u.proxy(this.pause,this)).on("mouseleave.bs.carousel",u.proxy(this.cycle,this))}function s(o){return this.each(function(){var t=u(this),e=t.data("bs.carousel"),n=u.extend({},h.DEFAULTS,t.data(),"object"==typeof o&&o),i="string"==typeof o?o:n.slide;e||t.data("bs.carousel",e=new h(this,n)),"number"==typeof o?e.to(o):i?e[i]():n.interval&&e.pause().cycle()})}h.VERSION="3.4.1",h.TRANSITION_DURATION=600,h.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},h.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},h.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(u.proxy(this.next,this),this.options.interval)),this},h.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},h.prototype.getItemForDirection=function(t,e){var n=this.getItemIndex(e);if(("prev"==t&&0===n||"next"==t&&n==this.$items.length-1)&&!this.options.wrap)return e;var i=(n+("prev"==t?-1:1))%this.$items.length;return this.$items.eq(i)},h.prototype.to=function(t){var e=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(t>this.$items.length-1||t<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):n==t?this.pause().cycle():this.slide(n<t?"next":"prev",this.$items.eq(t))},h.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&u.support.transition&&(this.$element.trigger(u.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},h.prototype.next=function(){if(!this.sliding)return this.slide("next")},h.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},h.prototype.slide=function(t,e){var n=this.$element.find(".item.active"),i=e||this.getItemForDirection(t,n),o=this.interval,r="next"==t?"left":"right",a=this;if(i.hasClass("active"))return this.sliding=!1;var s=i[0],l=u.Event("slide.bs.carousel",{relatedTarget:s,direction:r});if(this.$element.trigger(l),!l.isDefaultPrevented()){if(this.sliding=!0,o&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var c=u(this.$indicators.children()[this.getItemIndex(i)]);c&&c.addClass("active")}var d=u.Event("slid.bs.carousel",{relatedTarget:s,direction:r});return u.support.transition&&this.$element.hasClass("slide")?(i.addClass(t),"object"==typeof i&&i.length&&i[0].offsetWidth,n.addClass(r),i.addClass(r),n.one("bsTransitionEnd",function(){i.removeClass([t,r].join(" ")).addClass("active"),n.removeClass(["active",r].join(" ")),a.sliding=!1,setTimeout(function(){a.$element.trigger(d)},0)}).emulateTransitionEnd(h.TRANSITION_DURATION)):(n.removeClass("active"),i.addClass("active"),this.sliding=!1,this.$element.trigger(d)),o&&this.cycle(),this}};var t=u.fn.carousel;u.fn.carousel=s,u.fn.carousel.Constructor=h,u.fn.carousel.noConflict=function(){return u.fn.carousel=t,this};function e(t){var e=u(this),n=e.attr("href");n=n&&n.replace(/.*(?=#[^\s]+$)/,"");var i=e.attr("data-target")||n,o=u(document).find(i);if(o.hasClass("carousel")){var r=u.extend({},o.data(),e.data()),a=e.attr("data-slide-to");a&&(r.interval=!1),s.call(o,r),a&&o.data("bs.carousel").to(a),t.preventDefault()}}u(document).on("click.bs.carousel.data-api","[data-slide]",e).on("click.bs.carousel.data-api","[data-slide-to]",e),u(window).on("load",function(){u('[data-ride="carousel"]').each(function(){var t=u(this);s.call(t,t.data())})})}(jQuery),function(a){"use strict";var s=function(t,e){this.$element=a(t),this.options=a.extend({},s.DEFAULTS,e),this.$trigger=a('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};function o(t){var e,n=t.attr("data-target")||(e=t.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,"");return a(document).find(n)}function l(i){return this.each(function(){var t=a(this),e=t.data("bs.collapse"),n=a.extend({},s.DEFAULTS,t.data(),"object"==typeof i&&i);!e&&n.toggle&&/show|hide/.test(i)&&(n.toggle=!1),e||t.data("bs.collapse",e=new s(this,n)),"string"==typeof i&&e[i]()})}s.VERSION="3.4.1",s.TRANSITION_DURATION=350,s.DEFAULTS={toggle:!0},s.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},s.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var t,e=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(e&&e.length&&(t=e.data("bs.collapse"))&&t.transitioning)){var n=a.Event("show.bs.collapse");if(this.$element.trigger(n),!n.isDefaultPrevented()){e&&e.length&&(l.call(e,"hide"),t||e.data("bs.collapse",null));var i=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[i](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var o=function(){this.$element.removeClass("collapsing").addClass("collapse in")[i](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return o.call(this);var r=a.camelCase(["scroll",i].join("-"));this.$element.one("bsTransitionEnd",a.proxy(o,this)).emulateTransitionEnd(s.TRANSITION_DURATION)[i](this.$element[0][r])}}}},s.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=a.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var e=this.dimension();this.$element[e](this.$element[e]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var n=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};if(!a.support.transition)return n.call(this);this.$element[e](0).one("bsTransitionEnd",a.proxy(n,this)).emulateTransitionEnd(s.TRANSITION_DURATION)}}},s.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},s.prototype.getParent=function(){return a(document).find(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(a.proxy(function(t,e){var n=a(e);this.addAriaAndCollapsedClass(o(n),n)},this)).end()},s.prototype.addAriaAndCollapsedClass=function(t,e){var n=t.hasClass("in");t.attr("aria-expanded",n),e.toggleClass("collapsed",!n).attr("aria-expanded",n)};var t=a.fn.collapse;a.fn.collapse=l,a.fn.collapse.Constructor=s,a.fn.collapse.noConflict=function(){return a.fn.collapse=t,this},a(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(t){var e=a(this);e.attr("data-target")||t.preventDefault();var n=o(e),i=n.data("bs.collapse")?"toggle":e.data();l.call(n,i)})}(jQuery),function(a){"use strict";function i(t){a(t).on("click.bs.dropdown",this.toggle)}var s='[data-toggle="dropdown"]';function l(t){var e=t.attr("data-target"),n="#"!==(e=e||(e=t.attr("href"))&&/#[A-Za-z]/.test(e)&&e.replace(/.*(?=#[^\s]*$)/,""))?a(document).find(e):null;return n&&n.length?n:t.parent()}function r(i){i&&3===i.which||(a(".dropdown-backdrop").remove(),a(s).each(function(){var t=a(this),e=l(t),n={relatedTarget:this};e.hasClass("open")&&(i&&"click"==i.type&&/input|textarea/i.test(i.target.tagName)&&a.contains(e[0],i.target)||(e.trigger(i=a.Event("hide.bs.dropdown",n)),i.isDefaultPrevented()||(t.attr("aria-expanded","false"),e.removeClass("open").trigger(a.Event("hidden.bs.dropdown",n)))))}))}i.VERSION="3.4.1",i.prototype.toggle=function(t){var e=a(this);if(!e.is(".disabled, :disabled")){var n=l(e),i=n.hasClass("open");if(r(),!i){"ontouchstart"in document.documentElement&&!n.closest(".navbar-nav").length&&a(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(a(this)).on("click",r);var o={relatedTarget:this};if(n.trigger(t=a.Event("show.bs.dropdown",o)),t.isDefaultPrevented())return;e.trigger("focus").attr("aria-expanded","true"),n.toggleClass("open").trigger(a.Event("shown.bs.dropdown",o))}return!1}},i.prototype.keydown=function(t){if(/(38|40|27|32)/.test(t.which)&&!/input|textarea/i.test(t.target.tagName)){var e=a(this);if(t.preventDefault(),t.stopPropagation(),!e.is(".disabled, :disabled")){var n=l(e),i=n.hasClass("open");if(!i&&27!=t.which||i&&27==t.which)return 27==t.which&&n.find(s).trigger("focus"),e.trigger("click");var o=n.find(".dropdown-menu li:not(.disabled):visible a");if(o.length){var r=o.index(t.target);38==t.which&&0<r&&r--,40==t.which&&r<o.length-1&&r++,~r||(r=0),o.eq(r).trigger("focus")}}}};var t=a.fn.dropdown;a.fn.dropdown=function(n){return this.each(function(){var t=a(this),e=t.data("bs.dropdown");e||t.data("bs.dropdown",e=new i(this)),"string"==typeof n&&e[n].call(t)})},a.fn.dropdown.Constructor=i,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=t,this},a(document).on("click.bs.dropdown.data-api",r).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",s,i.prototype.toggle).on("keydown.bs.dropdown.data-api",s,i.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",i.prototype.keydown)}(jQuery),function(a){"use strict";function r(t,e){this.options=e,this.$body=a(document.body),this.$element=a(t),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.fixedContent=".navbar-fixed-top, .navbar-fixed-bottom",this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,a.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))}function s(i,o){return this.each(function(){var t=a(this),e=t.data("bs.modal"),n=a.extend({},r.DEFAULTS,t.data(),"object"==typeof i&&i);e||t.data("bs.modal",e=new r(this,n)),"string"==typeof i?e[i](o):n.show&&e.show(o)})}r.VERSION="3.4.1",r.TRANSITION_DURATION=300,r.BACKDROP_TRANSITION_DURATION=150,r.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},r.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},r.prototype.show=function(n){var i=this,t=a.Event("show.bs.modal",{relatedTarget:n});this.$element.trigger(t),this.isShown||t.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',a.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){i.$element.one("mouseup.dismiss.bs.modal",function(t){a(t.target).is(i.$element)&&(i.ignoreBackdropClick=!0)})}),this.backdrop(function(){var t=a.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(i.$body),i.$element.show().scrollTop(0),i.adjustDialog(),t&&i.$element[0].offsetWidth,i.$element.addClass("in"),i.enforceFocus();var e=a.Event("shown.bs.modal",{relatedTarget:n});t?i.$dialog.one("bsTransitionEnd",function(){i.$element.trigger("focus").trigger(e)}).emulateTransitionEnd(r.TRANSITION_DURATION):i.$element.trigger("focus").trigger(e)}))},r.prototype.hide=function(t){t&&t.preventDefault(),t=a.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),a(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),a.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",a.proxy(this.hideModal,this)).emulateTransitionEnd(r.TRANSITION_DURATION):this.hideModal())},r.prototype.enforceFocus=function(){a(document).off("focusin.bs.modal").on("focusin.bs.modal",a.proxy(function(t){document===t.target||this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},r.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",a.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},r.prototype.resize=function(){this.isShown?a(window).on("resize.bs.modal",a.proxy(this.handleUpdate,this)):a(window).off("resize.bs.modal")},r.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},r.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},r.prototype.backdrop=function(t){var e=this,n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=a.support.transition&&n;if(this.$backdrop=a(document.createElement("div")).addClass("modal-backdrop "+n).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",a.proxy(function(t){this.ignoreBackdropClick?this.ignoreBackdropClick=!1:t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide())},this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;i?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(r.BACKDROP_TRANSITION_DURATION):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var o=function(){e.removeBackdrop(),t&&t()};a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",o).emulateTransitionEnd(r.BACKDROP_TRANSITION_DURATION):o()}else t&&t()},r.prototype.handleUpdate=function(){this.adjustDialog()},r.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},r.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},r.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.scrollbarWidth=this.measureScrollbar()},r.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"";var o=this.scrollbarWidth;this.bodyIsOverflowing&&(this.$body.css("padding-right",t+o),a(this.fixedContent).each(function(t,e){var n=e.style.paddingRight,i=a(e).css("padding-right");a(e).data("padding-right",n).css("padding-right",parseFloat(i)+o+"px")}))},r.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad),a(this.fixedContent).each(function(t,e){var n=a(e).data("padding-right");a(e).removeData("padding-right"),e.style.paddingRight=n||""})},r.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var t=a.fn.modal;a.fn.modal=s,a.fn.modal.Constructor=r,a.fn.modal.noConflict=function(){return a.fn.modal=t,this},a(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(t){var e=a(this),n=e.attr("href"),i=e.attr("data-target")||n&&n.replace(/.*(?=#[^\s]+$)/,""),o=a(document).find(i),r=o.data("bs.modal")?"toggle":a.extend({remote:!/#/.test(n)&&n},o.data(),e.data());e.is("a")&&t.preventDefault(),o.one("show.bs.modal",function(t){t.isDefaultPrevented()||o.one("hidden.bs.modal",function(){e.is(":visible")&&e.trigger("focus")})}),s.call(o,r,this)})}(jQuery),function(g){"use strict";var i=["sanitize","whiteList","sanitizeFn"],a=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],s=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,l=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+/]+=*$/i;function f(t,e){var n=t.nodeName.toLowerCase();if(-1!==g.inArray(n,e))return-1===g.inArray(n,a)||Boolean(t.nodeValue.match(s)||t.nodeValue.match(l));for(var i=g(e).filter(function(t,e){return e instanceof RegExp}),o=0,r=i.length;o<r;o++)if(n.match(i[o]))return!0;return!1}function o(t,e,n){if(0===t.length)return t;if(n&&"function"==typeof n)return n(t);if(!document.implementation||!document.implementation.createHTMLDocument)return t;var i=document.implementation.createHTMLDocument("sanitization");i.body.innerHTML=t;for(var o=g.map(e,function(t,e){return e}),r=g(i.body).find("*"),a=0,s=r.length;a<s;a++){var l=r[a],c=l.nodeName.toLowerCase();if(-1!==g.inArray(c,o))for(var d=g.map(l.attributes,function(t){return t}),u=[].concat(e["*"]||[],e[c]||[]),h=0,p=d.length;h<p;h++)f(d[h],u)||l.removeAttribute(d[h].nodeName);else l.parentNode.removeChild(l)}return i.body.innerHTML}function m(t,e){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",t,e)}m.VERSION="3.4.1",m.TRANSITION_DURATION=150,m.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0},sanitize:!0,sanitizeFn:null,whiteList:{"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]}},m.prototype.init=function(t,e,n){if(this.enabled=!0,this.type=t,this.$element=g(e),this.options=this.getOptions(n),this.$viewport=this.options.viewport&&g(document).find(g.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var i=this.options.trigger.split(" "),o=i.length;o--;){var r=i[o];if("click"==r)this.$element.on("click."+this.type,this.options.selector,g.proxy(this.toggle,this));else if("manual"!=r){var a="hover"==r?"mouseenter":"focusin",s="hover"==r?"mouseleave":"focusout";this.$element.on(a+"."+this.type,this.options.selector,g.proxy(this.enter,this)),this.$element.on(s+"."+this.type,this.options.selector,g.proxy(this.leave,this))}}this.options.selector?this._options=g.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},m.prototype.getDefaults=function(){return m.DEFAULTS},m.prototype.getOptions=function(t){var e=this.$element.data();for(var n in e)e.hasOwnProperty(n)&&-1!==g.inArray(n,i)&&delete e[n];return(t=g.extend({},this.getDefaults(),e,t)).delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t.sanitize&&(t.template=o(t.template,t.whiteList,t.sanitizeFn)),t},m.prototype.getDelegateOptions=function(){var n={},i=this.getDefaults();return this._options&&g.each(this._options,function(t,e){i[t]!=e&&(n[t]=e)}),n},m.prototype.enter=function(t){var e=t instanceof this.constructor?t:g(t.currentTarget).data("bs."+this.type);if(e||(e=new this.constructor(t.currentTarget,this.getDelegateOptions()),g(t.currentTarget).data("bs."+this.type,e)),t instanceof g.Event&&(e.inState["focusin"==t.type?"focus":"hover"]=!0),e.tip().hasClass("in")||"in"==e.hoverState)e.hoverState="in";else{if(clearTimeout(e.timeout),e.hoverState="in",!e.options.delay||!e.options.delay.show)return e.show();e.timeout=setTimeout(function(){"in"==e.hoverState&&e.show()},e.options.delay.show)}},m.prototype.isInStateTrue=function(){for(var t in this.inState)if(this.inState[t])return!0;return!1},m.prototype.leave=function(t){var e=t instanceof this.constructor?t:g(t.currentTarget).data("bs."+this.type);if(e||(e=new this.constructor(t.currentTarget,this.getDelegateOptions()),g(t.currentTarget).data("bs."+this.type,e)),t instanceof g.Event&&(e.inState["focusout"==t.type?"focus":"hover"]=!1),!e.isInStateTrue()){if(clearTimeout(e.timeout),e.hoverState="out",!e.options.delay||!e.options.delay.hide)return e.hide();e.timeout=setTimeout(function(){"out"==e.hoverState&&e.hide()},e.options.delay.hide)}},m.prototype.show=function(){var t=g.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(t);var e=g.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(t.isDefaultPrevented()||!e)return;var n=this,i=this.tip(),o=this.getUID(this.type);this.setContent(),i.attr("id",o),this.$element.attr("aria-describedby",o),this.options.animation&&i.addClass("fade");var r="function"==typeof this.options.placement?this.options.placement.call(this,i[0],this.$element[0]):this.options.placement,a=/\s?auto?\s?/i,s=a.test(r);s&&(r=r.replace(a,"")||"top"),i.detach().css({top:0,left:0,display:"block"}).addClass(r).data("bs."+this.type,this),this.options.container?i.appendTo(g(document).find(this.options.container)):i.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var l=this.getPosition(),c=i[0].offsetWidth,d=i[0].offsetHeight;if(s){var u=r,h=this.getPosition(this.$viewport);r="bottom"==r&&l.bottom+d>h.bottom?"top":"top"==r&&l.top-d<h.top?"bottom":"right"==r&&l.right+c>h.width?"left":"left"==r&&l.left-c<h.left?"right":r,i.removeClass(u).addClass(r)}var p=this.getCalculatedOffset(r,l,c,d);this.applyPlacement(p,r);var f=function(){var t=n.hoverState;n.$element.trigger("shown.bs."+n.type),n.hoverState=null,"out"==t&&n.leave(n)};g.support.transition&&this.$tip.hasClass("fade")?i.one("bsTransitionEnd",f).emulateTransitionEnd(m.TRANSITION_DURATION):f()}},m.prototype.applyPlacement=function(t,e){var n=this.tip(),i=n[0].offsetWidth,o=n[0].offsetHeight,r=parseInt(n.css("margin-top"),10),a=parseInt(n.css("margin-left"),10);isNaN(r)&&(r=0),isNaN(a)&&(a=0),t.top+=r,t.left+=a,g.offset.setOffset(n[0],g.extend({using:function(t){n.css({top:Math.round(t.top),left:Math.round(t.left)})}},t),0),n.addClass("in");var s=n[0].offsetWidth,l=n[0].offsetHeight;"top"==e&&l!=o&&(t.top=t.top+o-l);var c=this.getViewportAdjustedDelta(e,t,s,l);c.left?t.left+=c.left:t.top+=c.top;var d=/top|bottom/.test(e),u=d?2*c.left-i+s:2*c.top-o+l,h=d?"offsetWidth":"offsetHeight";n.offset(t),this.replaceArrow(u,n[0][h],d)},m.prototype.replaceArrow=function(t,e,n){this.arrow().css(n?"left":"top",50*(1-t/e)+"%").css(n?"top":"left","")},m.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();this.options.html?(this.options.sanitize&&(e=o(e,this.options.whiteList,this.options.sanitizeFn)),t.find(".tooltip-inner").html(e)):t.find(".tooltip-inner").text(e),t.removeClass("fade in top bottom left right")},m.prototype.hide=function(t){var e=this,n=g(this.$tip),i=g.Event("hide.bs."+this.type);function o(){"in"!=e.hoverState&&n.detach(),e.$element&&e.$element.removeAttr("aria-describedby").trigger("hidden.bs."+e.type),t&&t()}if(this.$element.trigger(i),!i.isDefaultPrevented())return n.removeClass("in"),g.support.transition&&n.hasClass("fade")?n.one("bsTransitionEnd",o).emulateTransitionEnd(m.TRANSITION_DURATION):o(),this.hoverState=null,this},m.prototype.fixTitle=function(){var t=this.$element;!t.attr("title")&&"string"==typeof t.attr("data-original-title")||t.attr("data-original-title",t.attr("title")||"").attr("title","")},m.prototype.hasContent=function(){return this.getTitle()},m.prototype.getPosition=function(t){var e=(t=t||this.$element)[0],n="BODY"==e.tagName,i=e.getBoundingClientRect();null==i.width&&(i=g.extend({},i,{width:i.right-i.left,height:i.bottom-i.top}));var o=window.SVGElement&&e instanceof window.SVGElement,r=n?{top:0,left:0}:o?null:t.offset(),a={scroll:n?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},s=n?{width:g(window).width(),height:g(window).height()}:null;return g.extend({},i,a,s,r)},m.prototype.getCalculatedOffset=function(t,e,n,i){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-n/2}:"top"==t?{top:e.top-i,left:e.left+e.width/2-n/2}:"left"==t?{top:e.top+e.height/2-i/2,left:e.left-n}:{top:e.top+e.height/2-i/2,left:e.left+e.width}},m.prototype.getViewportAdjustedDelta=function(t,e,n,i){var o={top:0,left:0};if(!this.$viewport)return o;var r=this.options.viewport&&this.options.viewport.padding||0,a=this.getPosition(this.$viewport);if(/right|left/.test(t)){var s=e.top-r-a.scroll,l=e.top+r-a.scroll+i;s<a.top?o.top=a.top-s:l>a.top+a.height&&(o.top=a.top+a.height-l)}else{var c=e.left-r,d=e.left+r+n;c<a.left?o.left=a.left-c:d>a.right&&(o.left=a.left+a.width-d)}return o},m.prototype.getTitle=function(){var t=this.$element,e=this.options;return t.attr("data-original-title")||("function"==typeof e.title?e.title.call(t[0]):e.title)},m.prototype.getUID=function(t){for(;t+=~~(1e6*Math.random()),document.getElementById(t););return t},m.prototype.tip=function(){if(!this.$tip&&(this.$tip=g(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},m.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},m.prototype.enable=function(){this.enabled=!0},m.prototype.disable=function(){this.enabled=!1},m.prototype.toggleEnabled=function(){this.enabled=!this.enabled},m.prototype.toggle=function(t){var e=this;t&&((e=g(t.currentTarget).data("bs."+this.type))||(e=new this.constructor(t.currentTarget,this.getDelegateOptions()),g(t.currentTarget).data("bs."+this.type,e))),t?(e.inState.click=!e.inState.click,e.isInStateTrue()?e.enter(e):e.leave(e)):e.tip().hasClass("in")?e.leave(e):e.enter(e)},m.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type),t.$tip&&t.$tip.detach(),t.$tip=null,t.$arrow=null,t.$viewport=null,t.$element=null})},m.prototype.sanitizeHtml=function(t){return o(t,this.options.whiteList,this.options.sanitizeFn)};var t=g.fn.tooltip;g.fn.tooltip=function(i){return this.each(function(){var t=g(this),e=t.data("bs.tooltip"),n="object"==typeof i&&i;!e&&/destroy|hide/.test(i)||(e||t.data("bs.tooltip",e=new m(this,n)),"string"==typeof i&&e[i]())})},g.fn.tooltip.Constructor=m,g.fn.tooltip.noConflict=function(){return g.fn.tooltip=t,this}}(jQuery),function(o){"use strict";function r(t,e){this.init("popover",t,e)}if(!o.fn.tooltip)throw new Error("Popover requires tooltip.js");r.VERSION="3.4.1",r.DEFAULTS=o.extend({},o.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),((r.prototype=o.extend({},o.fn.tooltip.Constructor.prototype)).constructor=r).prototype.getDefaults=function(){return r.DEFAULTS},r.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),n=this.getContent();if(this.options.html){var i=typeof n;this.options.sanitize&&(e=this.sanitizeHtml(e),"string"==i&&(n=this.sanitizeHtml(n))),t.find(".popover-title").html(e),t.find(".popover-content").children().detach().end()["string"==i?"html":"append"](n)}else t.find(".popover-title").text(e),t.find(".popover-content").children().detach().end().text(n);t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},r.prototype.hasContent=function(){return this.getTitle()||this.getContent()},r.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},r.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var t=o.fn.popover;o.fn.popover=function(i){return this.each(function(){var t=o(this),e=t.data("bs.popover"),n="object"==typeof i&&i;!e&&/destroy|hide/.test(i)||(e||t.data("bs.popover",e=new r(this,n)),"string"==typeof i&&e[i]())})},o.fn.popover.Constructor=r,o.fn.popover.noConflict=function(){return o.fn.popover=t,this}}(jQuery),function(r){"use strict";function o(t,e){this.$body=r(document.body),this.$scrollElement=r(t).is(document.body)?r(window):r(t),this.options=r.extend({},o.DEFAULTS,e),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",r.proxy(this.process,this)),this.refresh(),this.process()}function e(i){return this.each(function(){var t=r(this),e=t.data("bs.scrollspy"),n="object"==typeof i&&i;e||t.data("bs.scrollspy",e=new o(this,n)),"string"==typeof i&&e[i]()})}o.VERSION="3.4.1",o.DEFAULTS={offset:10},o.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},o.prototype.refresh=function(){var t=this,i="offset",o=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),r.isWindow(this.$scrollElement[0])||(i="position",o=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var t=r(this),e=t.data("target")||t.attr("href"),n=/^#./.test(e)&&r(e);return n&&n.length&&n.is(":visible")&&[[n[i]().top+o,e]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){t.offsets.push(this[0]),t.targets.push(this[1])})},o.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),i=this.options.offset+n-this.$scrollElement.height(),o=this.offsets,r=this.targets,a=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),i<=e)return a!=(t=r[r.length-1])&&this.activate(t);if(a&&e<o[0])return this.activeTarget=null,this.clear();for(t=o.length;t--;)a!=r[t]&&e>=o[t]&&(void 0===o[t+1]||e<o[t+1])&&this.activate(r[t])},o.prototype.activate=function(t){this.activeTarget=t,this.clear();var e=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',n=r(e).parents("li").addClass("active");n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate.bs.scrollspy")},o.prototype.clear=function(){r(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var t=r.fn.scrollspy;r.fn.scrollspy=e,r.fn.scrollspy.Constructor=o,r.fn.scrollspy.noConflict=function(){return r.fn.scrollspy=t,this},r(window).on("load.bs.scrollspy.data-api",function(){r('[data-spy="scroll"]').each(function(){var t=r(this);e.call(t,t.data())})})}(jQuery),function(s){"use strict";function a(t){this.element=s(t)}function e(n){return this.each(function(){var t=s(this),e=t.data("bs.tab");e||t.data("bs.tab",e=new a(this)),"string"==typeof n&&e[n]()})}a.VERSION="3.4.1",a.TRANSITION_DURATION=150,a.prototype.show=function(){var t=this.element,e=t.closest("ul:not(.dropdown-menu)"),n=t.data("target");if(n=n||(n=t.attr("href"))&&n.replace(/.*(?=#[^\s]*$)/,""),!t.parent("li").hasClass("active")){var i=e.find(".active:last a"),o=s.Event("hide.bs.tab",{relatedTarget:t[0]}),r=s.Event("show.bs.tab",{relatedTarget:i[0]});if(i.trigger(o),t.trigger(r),!r.isDefaultPrevented()&&!o.isDefaultPrevented()){var a=s(document).find(n);this.activate(t.closest("li"),e),this.activate(a,a.parent(),function(){i.trigger({type:"hidden.bs.tab",relatedTarget:t[0]}),t.trigger({type:"shown.bs.tab",relatedTarget:i[0]})})}}},a.prototype.activate=function(t,e,n){var i=e.find("> .active"),o=n&&s.support.transition&&(i.length&&i.hasClass("fade")||!!e.find("> .fade").length);function r(){i.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),t.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),o?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu").length&&t.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),n&&n()}i.length&&o?i.one("bsTransitionEnd",r).emulateTransitionEnd(a.TRANSITION_DURATION):r(),i.removeClass("in")};var t=s.fn.tab;s.fn.tab=e,s.fn.tab.Constructor=a,s.fn.tab.noConflict=function(){return s.fn.tab=t,this};function n(t){t.preventDefault(),e.call(s(this),"show")}s(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',n).on("click.bs.tab.data-api",'[data-toggle="pill"]',n)}(jQuery),function(l){"use strict";var c=function(t,e){this.options=l.extend({},c.DEFAULTS,e);var n=this.options.target===c.DEFAULTS.target?l(this.options.target):l(document).find(this.options.target);this.$target=n.on("scroll.bs.affix.data-api",l.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",l.proxy(this.checkPositionWithEventLoop,this)),this.$element=l(t),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};function n(i){return this.each(function(){var t=l(this),e=t.data("bs.affix"),n="object"==typeof i&&i;e||t.data("bs.affix",e=new c(this,n)),"string"==typeof i&&e[i]()})}c.VERSION="3.4.1",c.RESET="affix affix-top affix-bottom",c.DEFAULTS={offset:0,target:window},c.prototype.getState=function(t,e,n,i){var o=this.$target.scrollTop(),r=this.$element.offset(),a=this.$target.height();if(null!=n&&"top"==this.affixed)return o<n&&"top";if("bottom"==this.affixed)return null!=n?!(o+this.unpin<=r.top)&&"bottom":!(o+a<=t-i)&&"bottom";var s=null==this.affixed,l=s?o:r.top;return null!=n&&o<=n?"top":null!=i&&t-i<=l+(s?a:e)&&"bottom"},c.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(c.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},c.prototype.checkPositionWithEventLoop=function(){setTimeout(l.proxy(this.checkPosition,this),1)},c.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t=this.$element.height(),e=this.options.offset,n=e.top,i=e.bottom,o=Math.max(l(document).height(),l(document.body).height());"object"!=typeof e&&(i=n=e),"function"==typeof n&&(n=e.top(this.$element)),"function"==typeof i&&(i=e.bottom(this.$element));var r=this.getState(o,t,n,i);if(this.affixed!=r){null!=this.unpin&&this.$element.css("top","");var a="affix"+(r?"-"+r:""),s=l.Event(a+".bs.affix");if(this.$element.trigger(s),s.isDefaultPrevented())return;this.affixed=r,this.unpin="bottom"==r?this.getPinnedOffset():null,this.$element.removeClass(c.RESET).addClass(a).trigger(a.replace("affix","affixed")+".bs.affix")}"bottom"==r&&this.$element.offset({top:o-t-i})}};var t=l.fn.affix;l.fn.affix=n,l.fn.affix.Constructor=c,l.fn.affix.noConflict=function(){return l.fn.affix=t,this},l(window).on("load",function(){l('[data-spy="affix"]').each(function(){var t=l(this),e=t.data();e.offset=e.offset||{},null!=e.offsetBottom&&(e.offset.bottom=e.offsetBottom),null!=e.offsetTop&&(e.offset.top=e.offsetTop),n.call(t,e)})})}(jQuery),function(){"use strict";if(navigator.userAgent.match(/IEMobile\/10\.0/)){var t=document.createElement("style");t.appendChild(document.createTextNode("@-ms-viewport{width:auto!important}")),document.querySelector("head").appendChild(t)}}();var Y=function(){var u,t={},e=e||new Date,o=8,n=/webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),r=/android/i.test(navigator.userAgent),a=!1,s=!1,h=!1,l="";function j(t){l+="<br>elapse: "+(new Date-e)+" msec -msg: "+t}function A(){var t=$("#ctn_fix_caption");t.length&&(t.hasScrollBar()?t.css("justify-content","flex-start"):t.css("justify-content","center"))}jQuery.fn.hasScrollBar=function(){return this.get(0).scrollHeight>this.height()};var c,S=((c={}).refreshPanel=function(){var t=$("#defPanel");if(t.length){var e=t.find(".ygPanel");e.empty();var n=Zn.getCaption(),i=n.display;if(n.segmentized?i=n.segmentized:n.seg&&(i=n.seg),i)for(var o=i.split(" "),r=0;r<o.length;r++){var a=o[r].replace(/[.,\?\/#!$"%\^&\*;:\[\]{}=\-_`~()]/g,"").trim().toLowerCase().replace(/^[']+|[']+$/g,"");e.append('<li><span class="hand definable">'+a+"</span></li>")}}},c);var p=0,d=1,f=2,g=3,m=4,v=5,y=6,b=8,C=9,w=10,T=11,_=12,E=13,I=19,k=23,N=24,x=25,D=27,O=53,L=100;function R(t){return t==y||t==v||t==N||t==T||t==E}function P(t){if("Copied!"==t)switch(ne.userLang){case d:return"Copié!";case f:return"¡Copiado!";case m:return"Copiato!";case g:return"Kopiert!";case C:return"Copiado!"}if("Copy link"==t)switch(ne.userLang){case d:return"Copier le lien";case f:return"Copiar link";case m:return"Copia link";case g:return"Link kopieren";case C:return"Copiar link"}return t}var U=0,F=1,M=2,Y=5,z=8,Q=9,V=10,B=12,G=13,H=14,W=15,q=18,K=19,X=28,Z=29,J=36,tt=52,et=53,nt=54,it=55,ot=57,rt=66,at=83,st=158,lt=168,ct=11,dt=16,ut=30,ht=33,pt=68,ft=91,gt=116,mt=124,vt=127,yt=123,bt=125,$t=126,Ct=128,wt=129,Tt=131,_t=137;function Et(t){$("#genericDlg .hidable").hide(),$("#genericDlg "+t).show(),$("#genericDlg").modal()}function jt(){return!0}var At=5,St=0;function It(t){return"string"==typeof t||t instanceof String}function kt(t){try{return JSON&&JSON.parse(t)||$.parseJSON(t)}catch(t){}return""}jQuery.expr[":"].Contains=jQuery.expr.createPseudo(function(e){return function(t){return 0<=jQuery(t).text().toUpperCase().indexOf(e.toUpperCase())}});var Nt=0;function xt(){1<++Nt||(console.log("reloading ("+Nt+"): "+document.location),document.location.reload(!0))}function Dt(t){for(var e="",n=0;n<t;n++){var i=String.fromCharCode(97+Math.floor(26*Math.random()));e+=Math.floor(2*Math.random())%2==0?i:i.toUpperCase()}return e}function Ot(){hn(de),hn(ue),hn(he),ne.loggedIn=!1}function Lt(){var t=$("#controlID");t.length&&t.show(),(t=$("#caption")).length&&t.show(),wr()}var Rt=!1,Pt=!1,Ut=!0,Ft=!0,Mt=!0,Yt=0,zt=!1;var Qt=0,Vt=1,Bt=2,Gt=1,Ht={ERROR:1,WIDGET_RESIZE:2,SERVER_HIT:3,ADV:4,SEARCH_DONE:20,VIDEO_CHANGE:21,CAPTION_CHANGE:22,CAPTION_CONSUMED:23,PLAYER_READY:40,PLAYER_STATECHANGE:41,PLAYER_SPEED_UPDATED:42,YT_IFRAME_READY:43,DOC_READY:44,UNREADY:100},Wt={};function qt(t,e){var n=Wt[t];n||(n=[],Wt[t]=n),n[n.length]=e}function Kt(t){var e=!1,n=Wt[t];if(n)for(var i=n.length,o=0;o<i;o++)e=e||n[o]();return e}var Xt={REGULAR:"0",NO_SEGMENTATION:"1"},Zt=Xt.REGULAR,Jt={SEARCH:"0",GETCID:"1",LESSON_VIDEO:"2",LESSON_WORD:"3",INDEX:"4"},te=!0,ee=null,ne={minErr:99,bEditMode:!1,userLang:p,bLocal:!1,reqType:Jt.SEARCH,jsDidumPro:!1,jsTotalResult:0,loggedIn:!1,dbg:0,allowCapSynch:!0,jsStart:!0,jsPatchYTDelay:0,jsChromePatchDelay:1e4,jsQuery:"",jsIndexQuery:"",jsEmbClient:"",jsIsGenderQuery:!1,jsEmbedded:!1,jsDico:!0,jsEmbeddedNotifHeight:!1,jsEmbHeight:-1,jsLang:p,jsAccent:0,jsURLToken:"",jsURLTokenLight:"",jsHCCode:1e3,jsControlButtonVisibilityDelay:5e3,jsYTAccess:Qt,jsPlayList:"",jsPartner:"",ck_v:""};function ie(t,e){ne.jsLang=t,ne.jsAccent=e;var n=$("#searchbut");n.length&&(n.data("lang",t),n.data("accent",e)),mn.normalize()}$.fn.removeClassPrefix=function(i){return this.each(function(t,e){var n=e.className.split(" ").filter(function(t){return 0!==t.lastIndexOf(i,0)});e.className=$.trim(n.join(" "))}),this};function oe(){this.buffer=[],this.index=0}function re(t,e,n){void 0!==window.parent.postMessage&&(e=e||ne.jsEmbId)&&(t.wid=e,(ne.jsEmbedded||n)&&window.parent.postMessage(JSON.stringify(t),"*"))}oe.prototype={append:function(t){return this.buffer[this.index]=t,this.index+=1,this},toString:function(){return this.buffer.join("")}},Array.prototype.insert=function(t,e){this.splice(t,0,e)},String.prototype.endsWith=function(t){var e=this.length-t.length;return 0<=e&&this.lastIndexOf(t)===e},String.prototype.replaceAll=function(t,e){return this.replace(new RegExp(t,"g"),e)},String.prototype.startsWith||(String.prototype.startsWith=function(t,e){return e=e||0,this.indexOf(t,e)===e});var ae="^|[^\\wÀ-ɏ]",se="[^\\wÀ-ɏ]|$",le="",ce="",de="yg_session",ue="yg_username",he="yg_name",pe="cookie_consent",fe="cookie_support",ge="adult",me="romanization",ve="vidinfo",ye="autonext",be="autoplay",$e="extui",Ce="history",we="capcol",Te="markercol",_e="tbns",Ee="width",je="capsize",Ae="lnksize",Se="vquality",Ie="langtrg",ke="theme",Ne="pl_speed",xe="vid_pad_bottom",De="accent_required",Oe="back_duration",Le="delay_start",Re="vrs",Pe="sync",Ue="uc_size",Fe="chrome_patch",Me="extended_search",Ye="cookie_dico",ze="cookie_mother_tongue",Qe="_xtx_",Ve=.1;function Be(t){try{return t.charAt(0).toUpperCase()+t.substring(1).toLowerCase()}catch(t){}return t}(new Date).getTime();function Ge(t){document.getElementById("audio"+t).play()}function He(t,e){(t=$(t)).scrollTop(0),t.stop().animate({scrollTop:$(e).position().top},250,"swing")}function We(t){return $("<div/>").html(t).text()}function qe(t){return encodeURIComponent(t).replace(/%2F/g,"%252F").replace(/[!'()*]/g,escape)}function Ke(){if(ne.jsQuery){var t="/didum.jsp?q="+encodeURIComponent(ne.jsQuery);$.ajax({url:t,success:function(t){if(0<(t=$.trim(t)).length){var e=$("#didum"),n="Did you mean "+function(t,e){try{t=t.trim();var n="/pronounce/"+encodeURIComponent(t).replace(/'/g,"%27")+NaN+ne.jsURLTokenLight;return"<a"+(e?" class='"+e+"'":"")+" href='"+(n+="/"+$("#serializeMe :input").serialize())+"'>"+t+"</a>"}catch(t){}return t}(t,"nodec")+" ?";e.html(n),e.show(),wr()}}})}}function Xe(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth}function Ze(t){return"/images/"+(ne.ex_img_path?ne.ex_img_path:"")+t}function Je(t,e,n){return n?n*Math.floor(Math.random()*(e-t+1)+t):Math.floor(Math.random()*(e-t+1)+t)}function tn(t){return t?(-1!=t.indexOf("[[[")&&(t=(t=t.replace(/\[\[\[/g,"")).replace(/]]]/g,"")),We(t)):""}function en(t){return t?(-1!=t.indexOf("[[[")&&(t=(t=ne.jsMarkerStyle?t.replace(/\[\[\[/g,"<span style='"+ne.jsMarkerStyle+"' class='marker lg_"+ne.jsLang+"'>"):t.replace(/\[\[\[/g,"<span class='marker lg_"+ne.jsLang+"'>")).replace(/\]\]\]/g,"</span>")),t):""}function nn(t,e){var n;if((n=e)&&-1!=n.indexOf("~")&&(n=(n=n.replaceAll('"',"")).replaceAll("~\\d+","")),e=n,!t)return"";if(-1==t.indexOf("[[[")){for(var i=new RegExp('"[^"]+"|[^ ]+',"gim"),o=i.exec(e),r={};null!=o;)r[o[0]]="",o=i.exec(e);var a=[];for(var s in r)r.hasOwnProperty(s)&&(a.push(s),R(ne.jsLang)&&s&&-1<s.trim().indexOf(" ")&&a.push(s.replace(/\s/g,"")));a.sort(function(t,e){return e.length-t.length});var l=0;for(l=0;l<a.length;l++)t=on(t,a[l])}return t}function on(t,e){var n=ae,i=se;R(ne.jsLang)&&(n=le,i=ce),e=function(t){var e=t;e=an(e,!1);var n=t.replace(/oe/gi,"œ");e!=t&&(e=e+"|"+t);n!=t&&(e=e+"|"+n);return e}(e=(e=e.replace(/["%]/g,"")).replace(/[ ]+/g,"[\\W]+")),ne.jsLang==T&&(e=function(t){for(var e="",n=0;n<t.length;n++)e+=t[n],i=t[n],1536<=(o=i.charCodeAt(0))&&o<=2304&&(e+="([\\u0610-\\u061A]|[\\u06D6-\\u06ED]|[\\u0640]|[\\u064B-\\u065F]|[\\u0670]|[\\u0670]){0,}");var i,o;return e}(e)),-1<e.indexOf("*")&&(e=e.replace(/[*]/g,"[a-z0-9"+an("eaciouyn",!0)+"]*"));for(var o=new RegExp(rn(n,!1)+rn(e)+rn(i,!1),"gim"),r=o.exec(t),a={};null!=r;)a[r[1]]="",r=o.exec(t);for(var s in a)a.hasOwnProperty(s)&&(o=new RegExp(rn(n)+rn(s)+rn(i),"gm"),t=t.replace(o,"$1[[["+s+"]]]$3"));return t}function rn(t,e){return void 0===e&&(e=!0),"("+(e?"":"?:")+t+")"}function an(t,e){for(var n=["aaàâãäáâåą","eéèêëę","cçć","gğ","iîïíìıi̇İį","lł","oôöóò","nñń","sşś","uùûüú","yÿ","zżź"],i=n.length,o=0;o<i;o++){var r="["+n[o]+"]";t=t.replace(new RegExp(r,"ig"),r)}return e&&(t=t.replace(/[\[\]]/gi,"")),t}function sn(t){return t=t&&(t=(t=t.replace(/(:[a-z]+)/gi,"")).replace(/[!?]/gi,"")).replace(/(#\S+)/gi,"")}function ln(){hn(Re),cn(Re,ne.ck_v,600)}function cn(t,e,n){cn(t,e,n,ne.bLocal?null:"youglish.com")}function cn(t,e,n,i){if(-1==(n=n||365)||Tn(t)){var o="";if(n){var r=new Date;r.setTime(r.getTime()+24*n*60*60*1e3),o="; expires="+r.toGMTString()}document.cookie=t+"="+e+o+(i?"; domain="+i:"")+"; path=/"}}function dn(t){for(var e=encodeURIComponent(t)+"=",n=document.cookie.split(";"),i=0;i<n.length;i++){for(var o=n[i];" "===o.charAt(0);)o=o.substring(1,o.length);if(0===o.indexOf(e))return decodeURIComponent(o.substring(e.length,o.length))}return null}function un(t,e){cn(t,"",-1,e)}function hn(t){un(t,"youglish.com"),un(t,"")}function pn(t){return(0^(t=parseInt(t)))===t}function fn(t,e){this.lang=t,this.acc=e}var gn,mn=((gn={}).toAccentStr=yn,gn.toLangStr=vn,gn.normalize=function(){var t,e,n,i,o,r=ne.jsLang,a=ne.jsAccent;if(null==r||""===r||-1==Number(r)){var s=null==(n=a)||null==n?new fn(p,U):0==(n=(""+n).toLowerCase()).length||"all"==n?new fn(p,U):"us"==n?new fn(p,F):"uk"==n?new fn(p,M):"aus"==n?new fn(p,B):"spanish"==n?new fn(f,U):"allfrench"==n?new fn(d,U):"french"==n?new fn(d,Y):"quebec"==n?new fn(d,X):"belgian"==n?new fn(d,Z):"swiss"==n?new fn(d,J):"portuguese"==n?new fn(C,U):"portuguese-br"==n?new fn(C,V):"portuguese-pt"==n?new fn(C,Q):"italian"==n?new fn(m,U):"hebrew"==n?new fn(E,U):"polish"==n?new fn(D,U):"greek"==n?new fn(I,U):"swedish"==n?new fn(k,U):"german"==n?new fn(g,U):"korean"==n?new fn(b,U):"turkish"==n?new fn(x,U):"russian"==n?new fn(w,U):"ukrainian"==n?new fn(O,U):"japanese"==n?new fn(v,U):"thai"==n?new fn(N,U):"chinese"==n?new fn(y,U):"cn"==n?new fn(y,K):"tw"==n?new fn(y,tt):"sg"==n?new fn(y,et):"hk"==n?new fn(y,nt):"sh"==n?new fn(y,it):"mo"==n?new fn(y,ot):"mn"==n?new fn(y,st):new fn(p,U);ne.jsLang=s.lang,ne.jsAccent=s.acc}else 0==pn(r)&&(r="english"==(e=(e=r)?e.toLowerCase().trim():e)?p:"french"==e?d:"spanish"==e?f:"german"==e?g:"korean"==e?b:"turkish"==e?x:"russian"==e?w:"ukrainian"==e?O:"arabic"==e?T:"dutch"==e?_:"japanese"==e?v:"thai"==e?N:"italian"==e?m:"hebrew"==e?E:"polish"==e?D:"greek"==e?I:"chinese"==e?y:"portuguese"==e?C:"swedish"==e?k:"signlanguage"==e?L:p),ne.jsLang=parseInt(r),0==pn(a)&&(a="us"==(t=(t=a)?t.toLowerCase().trim():t)?F:"uk"==t?M:"aus"==t?B:"ca"==t?G:"ie"==t?H:"sco"==t?W:"nz"==t?q:"is"==t?lt:"fr"==t?Y:"qc"==t?X:"be"==t?Z:"ch"==t?J:"sa"==t?dt:"eg"==t?ht:"dz"==t?ut:"ma"==t?yt:"tn"==t?$t:"lb"==t?bt:"jo"==t?Ct:"qa"==t?ft:"ae"==t?gt:"kw"==t?mt:"bh"==t?vt:"om"==t?wt:"af"==t?pt:"ps"==t?_t:"il"==t?ct:"ly"==t?Tt:"la"==t?rt:"es"==t?z:"pt"==t?Q:"br"==t?V:"cn"==t?K:"tw"==t?tt:"sg"==t?et:"hk"==t?nt:"sh"==t?it:"mo"==t?ot:"mn"==t?st:U),ne.jsAccent=parseInt(a);i=vn(ne.jsLang),o=yn(ne.jsLang,ne.jsAccent),ne.jsURLToken=i+"/"+o,ne.jsURLTokenLight=i+("all"==o?"":"/"+o)},gn);function vn(t){return t==p?"english":t==d?"french":t==f?"spanish":t==g?"german":t==b?"korean":t==x?"turkish":t==w?"russian":t==O?"ukrainian":t==v?"japanese":t==N?"thai":t==m?"italian":t==E?"hebrew":t==D?"polish":t==I?"greek":t==y?"chinese":t==C?"portuguese":t==T?"arabic":t==_?"dutch":t==k?"swedish":t==L?"signlanguage":"english"}function yn(t,e){if(!e||e==U)return"all";if(t==L){if(e==F)return"us";if(e==M)return"uk";if(e==H)return"ie";if(e==B)return"aus";if(e==q)return"nz";if(e==lt)return"is"}if(t==T){if(e==ht)return"eg";if(e==dt)return"sa";if(e==ut)return"dz";if(e==yt)return"ma";if(e==$t)return"tn";if(e==bt)return"lb";if(133==e)return"sy";if(e==Ct)return"jo";if(132==e)return"iq";if(e==ft)return"qa";if(e==gt)return"ae";if(e==mt)return"kw";if(e==vt)return"bh";if(e==wt)return"om";if(e==pt)return"af";if(e==_t)return"ps";if(e==ct)return"il";if(e==Tt)return"ly"}if(t==_){if(e==at)return"nl";if(e==Z)return"be"}if(t==p){if(e==F)return"us";if(e==M)return"uk";if(e==B)return"aus";if(e==G)return"ca";if(e==H)return"ie";if(e==W)return"sco";if(e==q)return"nz"}return e==Y?"fr":e==X?"qc":e==Z?"be":e==J?"ch":e==Q?"pt":e==V?"br":e==z?"es":e==rt?"la":e==K?"cn":e==tt?"tw":e==et?"sg":e==nt?"hk":e==it?"sh":e==ot?"mo":e==st?"mn":"all"}var bn={MANDATORY:1,REQUIRED:2,FUNCTIONAL:4,ADS:8,SOCIAL_MEDIA:16};var $n,Cn=($n=dn(fe))?Number($n):bn.REQUIRED+bn.FUNCTIONAL+bn.ADS+bn.SOCIAL_MEDIA;console.log("cookieSupport: "+Cn);var wn={};function Tn(t){if(!t)return!1;var e=(t=t.toLowerCase().trim()).indexOf(Qe);t=-1<e?t.substr(0,e):t;var n=wn[t];return n==bn.MANDATORY||!!(n&&0<(n&Cn))}function _n(t){cn(ge,(Ut=t)+"",600)}wn[fe.toLowerCase().trim()]=bn.MANDATORY,wn[pe.toLowerCase().trim()]=bn.MANDATORY,wn[de.toLowerCase().trim()]=bn.REQUIRED,wn[ue.toLowerCase().trim()]=bn.REQUIRED,wn[he.toLowerCase().trim()]=bn.REQUIRED,wn[Re.toLowerCase().trim()]=bn.REQUIRED,wn[Fe.toLowerCase().trim()]=bn.REQUIRED,wn[Ee.toLowerCase().trim()]=bn.FUNCTIONAL,wn[ge.toLowerCase().trim()]=bn.FUNCTIONAL,wn[me.toLowerCase().trim()]=bn.FUNCTIONAL,wn[ve.toLowerCase().trim()]=bn.FUNCTIONAL,wn[ye.toLowerCase().trim()]=bn.FUNCTIONAL,wn[be.toLowerCase().trim()]=bn.FUNCTIONAL,wn["toggle_ui_nb".toLowerCase().trim()]=bn.FUNCTIONAL,wn[$e.toLowerCase().trim()]=bn.FUNCTIONAL,wn[Ce.toLowerCase().trim()]=bn.FUNCTIONAL,wn[we.toLowerCase().trim()]=bn.FUNCTIONAL,wn[Te.toLowerCase().trim()]=bn.FUNCTIONAL,wn[_e.toLowerCase().trim()]=bn.FUNCTIONAL,wn[je.toLowerCase().trim()]=bn.FUNCTIONAL,wn[Ae.toLowerCase().trim()]=bn.FUNCTIONAL,wn[Se]=bn.FUNCTIONAL,wn[Ie.toLowerCase().trim()]=bn.FUNCTIONAL,wn[ke.toLowerCase().trim()]=bn.FUNCTIONAL,wn[Ne.toLowerCase().trim()]=bn.FUNCTIONAL,wn[xe.toLowerCase().trim()]=bn.FUNCTIONAL,wn[De.toLowerCase().trim()]=bn.FUNCTIONAL,wn[Oe.toLowerCase().trim()]=bn.FUNCTIONAL,wn[Le.toLowerCase().trim()]=bn.FUNCTIONAL,wn[Pe.toLowerCase().trim()]=bn.FUNCTIONAL,wn[Ue.toLowerCase().trim()]=bn.FUNCTIONAL,wn[Me.toLowerCase().trim()]=bn.FUNCTIONAL,wn[Ye.toLowerCase().trim()]=bn.FUNCTIONAL,wn[ze.toLowerCase().trim()]=bn.FUNCTIONAL;var En,jn,An,Sn=(An=jn=!(En={}),En.onPlayerStatusChange=function(t){return Zn.activate(!1),t==YT.PlayerState.PAUSED?void $("#b_pause img").attr("src",Ze("play.png")):t==YT.PlayerState.PLAYING?($("#b_pause img").attr("src",Ze("pause.png")),Zn.activate(!0),jn=!0,ne.reqType==Jt.LESSON_VIDEO?An?Qi.yourTurn()&&Qi.reset():(Lt(),$("#ienv").show(),fo.isWatchAndRepeatMode()&&$(".vdisplay").show(),startTimer()):An||Lt(),void(An=!0)):void 0},En.ready=function(){return jn},En);function In(t,e,n){return"<"+t+(e?' class="'+e+'"':"")+">"+n+"</"+t+">"}var kn,Nn,xn,Dn,On,Ln,Rn,Pn,Un,Fn,Mn,Yn,zn,Qn,Vn=(Qn={},(zn={}).registerEvent=function(){kn=$("#modalDef"),Nn=kn.find(".d_mainttl"),xn=kn.find(".data"),Dn=kn.find(".data1"),On=kn.find(".prog"),Ln=kn.find(".btn-more"),Fn=kn.find(".def_btn_add"),Mn=kn.find(".def_btn_cancel"),Un=kn.find(".def_extui"),Rn=kn.find("#tr_res"),Pn=kn.find("#tr_prog"),$(document).on("click",".definable",function(t){if(jt(ne.jsLang)){var e=t.ctrlKey||t.metaKey,n=$(this).text();if(Yn=$(this).parents("#r_caption").length,e){var i=(c=this,d="",u=-1,$("#r_caption .marker").each(function(){var t=$(this).index();$(this).find(c).length&&(u=t),-1<u&&t==u&&(d+=" "+$(this).text(),u++)}),$.trim(d));i&&(n=i)}if(Vo.pause(),(l=ne.jsLang)==p||l==L)kn.data("more","0"),qn(n);else if(e){var o=$(".openDico.selected");if(o.length){var r=o.data("url");vr(r=r.replace("%txt%",qe(n)))}}else $("#dicoDlg").find("iframe").attr("src",(a=ne.jsLang,s=n,"https://www.bing.com/translator/?from=_FROM_&text=_TEXT_".replace("_FROM_",Kn(a)).replace("_TEXT_",s))),$("#dicoDlg").modal()}else Et(".dico_not_availabe");var a,s,l,c,d,u}),kn.on("hide.bs.modal",function(){Yn&&($("#modalDef .modal-body").scrollTop(0),"1"!==kn.data("more")&&Vo.resume())}),Ln.click(function(t){var e=kn.data("term");e&&(kn.data("more","1"),vr("https://fraze.it/n_search.jsp?q="+escape(e)))}),Fn.click(function(t){var e=kn.data("term");return e&&(Un.hide(),Wn(e,$("#def_cat").val(),$("#def_note").val())),!1}),Mn.click(function(t){return Un.hide(),!1}),Nn.on("click",".edit",function(t){!function(){if(-1==Nn.html().indexOf("<input")){Nn.html("<div class='editD'><input class='editDI' type=\"text\" /><button type='button'>OK</button></div>");var e=Nn.find(".editDI");e.val(kn.data("term").toLowerCase()),e.focus(),e.on("keyup",function(t){13==t.keyCode&&qn($(this).val())}),Nn.find("button").click(function(t){qn(e.val())})}}()}),Nn.on("click",".save",function(t){var e=kn.data("term");Pt?($("#def_cat").val(""),$("#def_note").val(""),Un.show()):Wn(e)}),kn.on("click",".defineMe",function(t){qn($(this).text())})},zn.registerWordEvent=function(){Rn=$("#tr_res"),Pn=$("#tr_prog")},zn.makeDefinable=function(t){return jt(ne.jsLang)&&ne.jsDico?t=t.replace(new RegExp("([^\\s.'\",\\/#!$%\\^&\\*;:\\[\\]{}=\\-_`~()\\+\\?]+)","g"),'<span class="hand definable">$1</span>'):t},zn.translateTo=function(t,e){if(-1==t)return Pn.hide(),void Rn.hide();cn(Ie,t),e=e||kn.data("term"),Pn.show(),Rn.hide();var n=$("#serializeMe :input").serialize(),i="/translate.jsp?q="+encodeURIComponent(e)+"&accent="+ne.jsAccent+"&l="+t+"&"+n;$.ajax({url:i,success:function(t){if(-1==t.indexOf("captchaSubmit.jsp")){var e="<h4>No result found.</h4>";if(0<(t=$.trim(t)).length){var n=kt(t);n&&(e="<h2>"+n.result+"</h2>",e+="<span style='color:white'>"+n.type+"</span>")}Pn.hide(),Rn.html(e),Rn.show();var i=$("#modalDef .modal-body");i.length&&i.scrollTop(i[0].scrollHeight)}else xt()},error:function(){console.log("translate error occurs!")}})},zn.switchLangSelection=Xn,zn.define=qn,zn.save=Wn,zn);function Bn(t,e){e&&(t.startsWith("http")||(t="http://"+t));return t=t.replace(/\\u([\d\w]{4})/gi,function(t,e){return String.fromCharCode(parseInt(e,16))}),t=(t=unescape(t)).replace(new RegExp("\\\\","g"),"")}function Gn(t,e){if(null==t)return null;var n=new oe;try{var i=function(t){if(!t||!t.all||0==t.all.length)return"";for(var e=new oe,n=0;n<t.all.length;n++){var i=new oe,o=t.all[n],r=null;void 0!==o.type&&2<o.type.length&&(r=In("div","d_ttl",o.type+":"));var a=new oe;if(void 0!==o.related){a.append('<div class="d_related">');for(var s=0;s<o.related.length;s++){var l=o.related[s];a.append(" "+In("span","d_color hand defineMe",l.val)),l.relation&&a.append("("+l.relation+")&nbsp;&nbsp;")}a.append("</div>")}var c=new oe;if(void 0!==o.definitions){c.append("<ol>");for(s=0;s<o.definitions.length;s++)c.append(In("li",s%2==1?"d_bg_color":null,o.definitions[s]));c.append("</ol>")}i.append('<div class="'+(0===n?"d_def  d_section":"d_section")+'">'),null!=r&&i.append(Hn(r)),i.append(a.toString()),i.append(c.toString()),i.append("</div>"),e.append(i.toString())}return e.toString()}(t.definitions);n.append(i.toString()),i=function(t){if(!t||!t.all||0==t.all.length)return"";var e=new oe;e.append('<div class="d_syno  d_section">'),e.append(In("div","d_ttl","SYNONYMS:"));for(var n=0;n<t.all.length;n++){var i=t.all[n];e.append(In("div","d_color small",Be(i.type))),e.append("<ul>");for(var o=0;o<i.values.length;o++){for(var r=i.values[o],a=r.related,s=a?"("+a+") ":"",l=0;l<r.synonyms.length;l++){var c=r.synonyms[l];c=Bn(c,!1),s+=In("span","d_color hand defineMe",c)+(l<r.synonyms.length-1?", ":"")}e.append(In("li",o%2==1?"d_bg_color":null,s))}e.append("</ul>")}return e.append("</div>"),e.toString()}(t.synonyms),n.append(i.toString()),i=function(t){if(!t||!t.all||0==t.all.length)return"";var e=new oe;e.append('<div class="d_web d_section">'),e.append(In("div","d_ttl","FROM THE WEB:")),e.append("<ol>");for(var n=0;n<t.all.length;n++){var i=t.all[n],o=" <span class='small'>[<a rel='noopener' target=_blank href='"+Bn(i.url,!0)+"'>source</a>]</span>";e.append(In("li",n%2==1?"d_bg_color":null,Bn(i.def,!1)+o))}return e.append("</ol></div>"),e.toString()}(t.wd),n.append(i.toString()),i=function(t,e){if(!t||!t.results||0==t.results.length)return"";var n=new oe;n.append('<div class="d_usage  d_section">'),n.append(In("div","d_ttl","Usage Examples:")),n.append("<ol>");for(var i=0;i<t.results.length;i++){var o=t.results[i];n.append(In("li",i%2==1?"d_bg_color":null,en(nn(o.phrase,e))))}return n.append("</ol></div>"),n.toString()}(t.usages,e),n.append(i.toString())}catch(t){j("exception occurs: "+t),alert(t.message)}return n.toString()}function Hn(t){try{var e=t.indexOf("[[");if(-1==e)return t;var n=t.indexOf("]]",e);return-1==n?t:t.substring(0,e)+In("span","d_color hand defineMe",t.substring(e+2,n))+t.substring(n+2)}catch(t){j("exception occurs: "+t)}return t}function Wn(t,e,n){var i=Nn?Nn.find(".save"):$(".save");if(!ne.loggedIn)return Ot(),void Et(".login_required");i.html("Saving...");var o="/mng_uc.jsp?op=add_voca&term="+encodeURIComponent(t)+(e?"&cat="+encodeURIComponent(e):"")+(n?"&note="+encodeURIComponent(n):"");$.ajax({url:o,success:function(t){if(-1==t.indexOf("captchaSubmit.jsp")){var e=kt(t=$.trim(t));if(e.err){if(wi("word",i),"LOGIN_REQUIRED"==e.msg||"Access denied"==e.msg)return Ot(),void Et(".login_required");e.error_code==EXT_SUBSCRIPTION_EXPIRED?(i.html("Save"),Et(".subscription_expired")):e.error_code==EXT_SUBSCRIPTION_SUSPENDED?(i.html("Save"),Et(".subscription_suspended")):e.error_code==EXT_SUBSCRIPTION_CONTENT_QUOTA_EXCEED?(i.html("Save"),Et(".content_quota_exceed")):e.error_code==EXT_MASTER_DOWN?(i.html("Save"),Et(".not_available")):alert("An error has occured. Re-login and try again. If it persists, contact admin@youglish.com to get support (errcode: "+e.error_type+"/"+e.error_code+")")}else i.removeClass("witem hand").addClass("saved").html("Saved!").delay(1e3).fadeOut(400)}else xt()},error:function(){i.html("Save"),alert("An error occurs. Try again later.")}})}function qn(n,i){if(!i){kn.data("term",n),Nn.html((e=n.toUpperCase(),$("<div/>").text(e).html()+" <span class='hand small witem edit'>[Edit]</span><span class='hand small witem save'>[Save]</span>")),$("#d_tr_what").html(n.toUpperCase()),$(".d_tr_sel").val(-1),Rn.html('<h4 style="text-align:left"></h4>');var t=dn(Ie);t&&0<$("#langControl select").length&&Xn(1,t),xn.hide(),On.show(),kn.modal("show")}var e,o=Qn[n];if(o)return i?void i(n,o):(Dn.html(o),xn.show(),On.hide(),void kn.modal("show"));var r=$("#serializeMe :input").serialize(),a="/define.jsp?q="+encodeURIComponent(n)+"&accent="+ne.jsAccent+"&"+r;$.ajax({url:a,success:function(t){if(-1==t.indexOf("captchaSubmit.jsp")){var e=Gn(kt(t=$.trim(t)),n);null==e&&(e="<h4>No result found.</h4>"),Qn[n]=e,i?i(n,e):(On.hide(),Dn.html(e),xn.show())}else xt()},error:function(){console.log("define error occurs!")}})}function Kn(t){return t==k?"sv":(e=t)==p?"en":e==d?"fr":e==f?"es":e==g?"de":e==m?"it":e==v?"ja":e==N?"th":e==y?"zh-cn":e==b?"ko":e==C?"pt":e==w?"ru":e==O?"uk":e==T?"ar":e==_?"nl":e==E?"he":e==I?"el":e==x?"tr":e==D?"pl":e==k?"se":"en";var e}function Xn(t,e){var n=$("#serializeMe :input").serialize(),i="/languages_ctrl.jsp?op="+t+"&accent="+ne.jsAccent+(e?"&lang="+e:"")+"&"+n;$.ajax({url:i,success:function(t){-1==t.indexOf("captchaSubmit.jsp")?(t=$.trim(t),$("#langControl").html(t)):xt()}})}var Zn=function(){var t={},l=[],s=null,c=-1,d=10,u={id:"-1",cid:"-1",display:"&nbsp;",hl_display:"&nbsp;"},o={},h=null,p=null,f=!1;function r(t,e,n,i,o){this.vid=t,this.fid=e,this.lid=n,this.start=i,this.end=o}function g(t,e){return t?"[id: "+t.id+" -cid: "+t.cid+" -vid: "+t.vid+" -start: "+t.start+" -end: "+t.end+(e?" -display: "+t.display:"")+"]":t}function m(t,e){if(s&&s.cid===t.cid)return!0;var n=!0;return fo.isWatchAndRepeatMode()&&(n=Qi.onNewCaption(t,e)),n&&i(t,e,"setCaption"),n}function i(t,e,n){if(1&ne.dbg&&(console.log("--------------------------------------------"),console.log("setCaptionProper for: "+g(t,!0)+" -info: "+n),console.log("--------------------------------------------")),1&ne.dbg&&(t.display=t.display+" [vid: "+t.vid+" -cid: "+t.cid+" -speaker: "+t.speaker+"]"),s&&t){var i=Number(s.id);if(Number(t.id)==1+i&&re({action:Ht.CAPTION_CONSUMED,id:s.cid}),zt)return void di.next()}if(!Kt(Ht.CAPTION_CONSUMED)){(s=t).hl_display||(s.display=nn(We(s.display).replace(/\\/g,""),ne.jsCleanQuery),s.hl_display=s.display,0<s.hl_display.length&&(s.hl_display==s.hl_display.toUpperCase()&&(s.hl_display=s.hl_display.toLowerCase()),s.hl_display=en(Vn.makeDefinable(s.hl_display))));var o=$("#r_caption");if(o.length){e?o.fadeOut("fast",function(){$(this).html(s.hl_display).fadeIn("fast",function(){A(),wr()})}):(o.html(s.hl_display),A(),wr());var r=$("#rom_caption");if(r.length)Ft&&!ne.jsEmbedded?(r.show(),e?r.fadeOut("fast",function(){$(this).html(s.pinyin).fadeIn("fast",function(){A(),wr()})}):(r.html(s.pinyin),A(),wr())):r.hide()}re({action:Ht.CAPTION_CHANGE,id:s.cid,caption:escape(s.display),current_time:Vo.getCurrentTime()}),ne.reqType!=Jt.LESSON_VIDEO&&Ei.refreshSavedBut(s.cid),Kt(Ht.CAPTION_CHANGE),S.refreshPanel(),a()}}function a(){if(s){$("#rep_cap_txt").val(tn(s.display)),$("#dbg_cid").html("cid: "+s.cid);var t=$("#rep_cap_segmented_txt");t.length&&t.val(tn(s.seg));var e=$("#rep_cap_rom_txt");e.length&&e.val(tn(s.pinyin))}}function v(){try{return o[di.getCurrentTrack().vid]}catch(t){j("exception occurs: "+t)}return null}function y(t,e){return t&&t.start<=e&&e<t.end}function b(t){var e,n=(e=t,0!=l.length&&l[0].start<=e&&e<l[l.length-1].end);if(!n)return-1;if(-1!==c){if(n=y(l[c],t))return c;if(n=y(l[c+1],t))return c+1}for(var i=0;i<l.length;i++)if(n=y(l[i],t))return i;return-1}r.prototype.toString=function(){return"vid: "+this.vid+" -fid: "+this.fid+" -lid: "+this.lid+" -start: "+this.start+" -end: "+this.end};var C=!(r.prototype.isValide=function(){return!(isNaN(this.vid)||isNaN(this.fid)||isNaN(this.lid)||isNaN(this.start)||isNaN(this.end))}),e=0,w=!1;function T(t){c=t,fo.isWatchAndRepeatMode()&&Qi.refreshUI(c,l?l.length:-1)}function _(){return!!(c+2>=l.length&&(t=l[l.length-1],e=v(),t&&t.end<e.end));var t,e}function E(t,e,n){2&ne.dbg&&(console.log("\n==================================================="),console.log("Welcome to fetchCaptions... cid: "+t.cid+" -from: "+e+" -info: "+n));var i=v();if(i){var o=!1,r="/fetchcap.jsp?vers=4&op=0&query="+encodeURIComponent(ne.jsQuery)+"&hm="+d+"&lg="+ne.jsLang+"&accent="+ne.jsAccent;if(r+=null!==e?"&from="+e:"&cid="+t.cid,r+="&fid="+i.fid+"&lid="+i.lid+"&vid="+i.vid,t&&t.id&&(r+="&id="+t.id,o=t.id>i.fid&&t.id<i.lid&&!e),h!==r)if(!p||1e3<(new Date).getTime()-p){p=(new Date).getTime(),h=r,2&ne.dbg&&console.log("processing: ["+h+"&calltime="+p+"]");var a=$("#serializeMe :input").serialize(),s=h+"&calltime="+p+"&"+a;$.ajax({url:s,success:function(t){It(t)&&-1!=t.indexOf("captchaSubmit.jsp")?xt():(null!==e&&(l=[]),0<function(t,e){2&ne.dbg&&console.log("\nWelcome to fill - got: "+t.total+" entries....capMap size: "+l.length);if(0==t.total)return 0;var n=t.results.length;0==l.length&&T(-1);for(var i=0;i<n;i++){var o=t.results[i],r=Number(o.start),a=Number(o.end);if(0==l.length&&(r-=1),i<n-1){var s=t.results[i+1];a=Number(s.start)}o.start=r,o.end=a,l.push(o),2&ne.dbg&&console.log("------ add capID: "+o.id+" --cID: "+o.cid+" -start: "+o.start+" -end: "+o.end)}2&ne.dbg&&(console.log("Done....capArr now: "+l.length),console.log(JSON.stringify(l,null,4)));e&&0==n&&(w=!0);return n}(t,o)&&(h=null))},error:function(){console.log("fetchcap.jsp error occurs!")}})}else 2&ne.dbg&&console.log("deltaCall issue....ignoring - callTime was: "+p);else 2&ne.dbg&&console.log("in process....ignoring - callTime was: "+p)}}return t.start=function t(){C&&0===e?(e++,setTimeout(t,2e3)):(function(){if(!w&&f&&ne.allowCapSynch){var t,e,n,i,o=!1,r=null;try{o=fo.isWatchAndRepeatMode(),t=Vo.getCurrentTime(),e=di.getCurrentTrack(),n=Math.floor(Ve+t),i=(new Date).getTime(),r=v()}catch(t){return j("exception occurs: "+t)}if(t&&e&&r)try{if(4&ne.dbg&&(console.log("\n********************************************************"),console.log("CheckCaption -  PlayerTime: "+t+" -RTime: "+n+" -time: "+i+" -vid-info:[ "+r+"] -playVideo: "+e.vid+" -capArr.length: "+l.length+" ...current: "+g(s)),console.log("bReplay: "+C)),function(t){var e=v();return!e||t<e.start||t>=e.end}(n))return 4&ne.dbg&&console.log("noCaption@time: "+n+" -> EMPTY caption"),m(u);if(0==l.length)return E(e,null);var a=b(n);if(4&ne.dbg&&console.log("getAt@"+n+" sec -> ind: "+a+" [curIndex: "+c+" -out of: "+l.length+"]"),-1==a)return C?(l=[],E(e,null)):E(e,n);if(a!=c){if(o&&t-l[a].start<.7)return;m(l[a],!0)&&(T(a),_()&&E(l[l.length-1],null))}4&ne.dbg&&console.log("CheckCaption done!")}finally{C=!1}}}(),setTimeout(t,150))},t.setCaption=m,t.setCaptionProper=i,t.getCaption=function(){return s},t.onStartTrack=function(t){e=0,p=h=null,w=!1,(C=t)||(s=null,T(-1),l=[],o[di.getCurrentTrack().vid]||function(i){2&ne.dbg&&(console.log("\n==================================================="),console.log("Welcome to fetchInfo... vid: "+i),console.log("==================================================="));var t=$("#serializeMe :input").serialize();j("ajax to fetchcap.jsp");var e="/fetchcap.jsp?vers=4&op=1&vid="+i+"&query="+encodeURIComponent(ne.jsQuery)+"&lg="+ne.jsLang+"&accent="+ne.jsAccent+"&"+t;2&ne.dbg&&console.log("processing: ["+e+"]");$.ajax({url:e,success:function(t){if(It(t)&&-1!=t.indexOf("captchaSubmit.jsp"))xt();else{var e=t,n=new r(Number(e.id),Number(e.fid),Number(e.lid),Number(e.start),Number(e.end));e.vid&&n.isValide()?(o[e.vid]=n,2&ne.dbg&&console.log("\nGot Video Details: "+n+" -for video: "+e.vid+"\n\n")):console.log("Ops..."+i+" [v-info] could not be located in the DB!")}},error:function(t,e,n){console.log("fetchInfo error occurs -error: "+t.status+"\nthrownError: "+n)}})}(di.getCurrentTrack().vid))},t.activate=function(t){f=t},t.moveToNext=function(){try{var t=function(){try{return l[c+1]}catch(t){j("exception occurs: "+t)}return null}();if(null==t)return;T(c+1),Qi.reset(),i(t),Vo.seek(t.start),_()&&E(l[l.length-1],null)}catch(t){j("exception occurs: "+t)}return null},t.moveToPrev=function(){try{var t=function(){try{return l[c-1]}catch(t){j("exception occurs: "+t)}return null}();if(null==t)return;T(c-1),Qi.reset(),i(t),Vo.seek(t.start)}catch(t){j("exception occurs: "+t)}return null},t.refreshActionUI=a,t.fetchAllCaptions=function(t,e){var n,i=$("#serializeMe :input").serialize(),o="/fetchcap.jsp?vers=4&ts="+1e6*Math.random()+"&hm=10&op=2&scw="+(n=t,Dt(2)+n+Dt(8))+"&lg="+ne.jsLang+"&accent="+ne.jsAccent;i&&(o+="&"+i),console.log("fetchAllCaption: "+o),$.ajax({url:o,success:function(t){It(t)&&-1!=t.indexOf("captchaSubmit.jsp")?xt():e(t)},error:function(){console.log("fetchcap.jsp error occurs!")}})},t}();Zn.start();var Jn,ti,ei,ni,ii,oi,ri,ai,si,li,ci=((Jn={}).reset=function(){},Jn.fetch=function(t,e){var n=$("#serializeMe :input").serialize();$.ajax({url:t+"?accent="+ne.jsAccent+"&lg="+ne.jsLang+"&q="+encodeURIComponent(ne.jsQuery)+(Ut?"":"&adult=0")+"&"+n,success:function(t){-1==t.indexOf("captchaSubmit.jsp")?(t=$.trim(t),e(t)):xt()},error:function(){console.log("GenFetcher error occurs!")}})},Jn),di=(ei={},ni=[],ii=[],oi=!0,ri=-1,si=-(ai=1),li=null,(ti={}).next=function(){j("welcome to next - currentInd: "+ri+" -total videos: "+(ii?""+ii.length:"N/A")),ri+1<ii.length&&(j("..in next1 - bFirstTime: "+oi+" -PlayerAPI.ready(): "+Vo.ready()),j("..in next2 - will play video: "+ ++ri),mi(ri)),Ci()&&$i()},ti.prev=function(){0<ri&&mi(--ri)},ti.play=mi,ti.fill=pi,ti.jump2=function(t,e){var n=pi(t,e);-1==n?$i({cid:e,onFind:function(t){ui(t)}}):ui(n)},ti.getCurrentInd=function(){return ri},ti.getTotal=function(){return si},ti.getCurrentTrack=fi,ti.addShared=function(t){hi(t),li=t},ti.totalLoaded=function(){return ii.length},ti.reset=function(){ei={},ni=[],ii=[],oi=!0,ai=0,si=ri=-1,li=null},ti.fetchable=Ci,ti.fetch=$i,ti);function ui(t){ri=-1==t?-1:t-1,sr(),oi=!1}function hi(t){if($.isArray(t))for(index=0;index<t.length;index++)ii.push(t[index]),or.onNewEntry(t[index],ii.length);else ii.push(t),or.onNewEntry(t,ii.length)}function pi(t,e,n){j("Welcome to EntryMng:fill"),1&ne.dbg&&console.log("\nWelcome to FILL ...bFirstTime: "+oi+" -cid2find: "+e);var i=-1,o=It(t)?kt(t):t;si=o.total_results,ee=o.altered_query,ne.jsHCCode=o.hc/3,n&&n();var r=o.results?o.results.length:0;1&ne.dbg&&console.log("got: "+r+" entries..");for(var a=0;a<r;a++){var s=o.results[a];1&ne.dbg&&console.log("\nchecking video: "+s.vid+" -speaker: "+s.speaker+" -cid: "+s.cid),null==li||li.cid!=s.cid?Mt&&(ei[s.speaker]||ei[s.vid])?(ni.push(s),Yt++,1&ne.dbg&&console.log("...video:"+s.vid+" -speaker:"+s.speaker+" already in .. skipping it! -shunkRejected: "+Yt),50<Yt&&(Mt=!1,hi(ni,ni.length),ni=[],1&ne.dbg&&console.log("Ooops..will allow duplicate video ...merging (rejectedVideos->videos)...videos size: "+ii.length+" -rejectedVideos size: "+ni.length))):(Yt=0,hi(s,s.vid),s.speaker&&(ei[s.speaker]=1),ei[s.vid]=1,null!=e&&e==s.cid&&(i=ii.length-1),1&ne.dbg&&console.log("video:"+s.vid+" -speaker:"+s.speaker+" -cid:"+s.cid+" added. Total videos:"+ii.length+" -cidIndex: "+i)):1&ne.dbg&&console.log("found shared video.. skipping it!")}return ii.length+ni.length==si&&(1&ne.dbg&&console.log("merging (rejectedVideos->videos)...videos size: "+ii.length+" -rejectedVideos size: "+ni.length),hi(ni,ni.length),null!=e&&-1==i&&(i=function(t){for(var e=ii.length,n=0;n<e;n++)if(ii[n].cid==t)return n;return-1}(e)),ni=[],1&ne.dbg&&console.log("merging done. videos size: "+ii.length+" -rejectedVideos size: "+ni.length+" -cidIndex: "+i)),1&ne.dbg&&(console.log("\n-----------------------------------------------"),console.log("EOF FILL - AvoidDupVid: "+Mt+" -shunkRejected: "+Yt+" -Videos size: "+ii.length+" -rejectedVideos size: "+ni.length+" -total: "+(ii.length+ni.length)+" -cidIndex: "+i),console.log("-----------------------------------------------")),null==e&&(oi&&sr(),oi=!1),or.onFillDone(),j("EntryMng:fill done. -Videos size: "+ii.length),i}function fi(){return null==ii?null:ii[ri]}function gi(){var t;$("#ttl_indx").length&&$("#ttl_indx").html(ri+1+""),re({action:Ht.VIDEO_CHANGE,trackNumber:ri+1,video:ii[ri].vid}),(t=fi())&&t.cid&&cn(Ce,t.cid+"/"+encodeURIComponent(ne.jsQuery)+"/"+ne.jsURLTokenLight,600),go.onVideoChange(ii[ri].vid)}function mi(t){if(0<=t&&t<ii.length){var e=ii[ri=t];e.display;Vo.loadVideo(e.vid,e.start-St),gi(),Zn.onStartTrack(!1),Zn.setCaption(e),1&ne.dbg&&$("#dbg_info").slideUp("fast",function(){$(this).html(e.dbg.replaceAll("<s2>","<strong>").replaceAll("<e2>","</strong>").replaceAll("<s1>","<div style='padding:6px'>").replaceAll("<e1>","</div>")).slideDown()}),lr(),or.onPlaying(ri)}}function vi(t,e,n,i,o,r){return 1024<n&&(o=e+2*o%27+(r||101)+e+t),function(t,e,n,i,o){11<n&&(o=o+23*n+e+t);return 17<n?Je(n,191)+""+t+n+i+o:t+""+n+e+Je(n,57)+i+o}(t,e,n,i,o)}function yi(t){return t||1}function bi(t){return t||1}function $i(t,n,i){ai++;var e,o=Je(2,9),r=vi(ne.jsHCCode,ne.jsQuery.length,o,(e=o)>Je(yi(e+121),bi(e+191))?Je(1,101)+(new Date).getTime():Je(yi(e+1),bi(e+10))+(new Date).getTime(),function(t,e,n){12<t&&(t=t%10+n);var i,o,r=Je(11+10*t,21+21*t);return r<t?r*t*e^Je(1,7):(i=t*e<<2,o=t^e,n?o>>4:i/4)}(o,ai));1&ne.dbg&&(console.log("----------------------"),console.log("FETCH called(nagla: "+ai+") currentInd: "+ri+" -videos: "+ii.length+" -rejectedVideos: "+ni.length+" (total: "+(ii.length+ni.length)+")"),null!=n&&console.log("findCID: "+n.cid));var a=$("#serializeMe :input").serialize();j("ajax to fetch.jsp"),$.ajax({url:"/fetch.jsp?vers=4&ts="+r+"&qp="+Zt+"&lg="+ne.jsLang+"&accent="+ne.jsAccent+(t?"&furq=1":"")+(ne.jsPlayList?"&pl="+encodeURIComponent(ne.jsPlayList):"")+(ne.jsPartner?"&e_partner="+encodeURIComponent(ne.jsPartner):"")+"&nagla="+ai+"&query="+encodeURIComponent(ne.jsQuery)+(Ut?"":"&adult=0")+(a?"&"+a:""),success:function(t){if(It(t)&&-1!=t.indexOf("yg_reload_me"))xt();else{var e=pi(t,null==n?n:n.cid,i);if(1&ne.dbg&&console.log("...NAGLA FETCH(#"+ai+") done. currentInd: "+ri+" [findCID: "+(null==n?n:n.cid)+" ->indF: "+e+"] -videos: "+ii.length+" -rejectedVideos: "+ni.length+" (total: "+(ii.length+ni.length)+")"),null==n||-1==e){if(Ci(null==n?n:Number.MAX_VALUE))$i(!1,n);else if(null!=n)return void n.onFind(-1)}else n.onFind(e)}},error:function(){console.log("fetch error occurs!"),j("ajax to fetch.jsp - error occurs!")}})}function Ci(t){return(t=null==t?ri:t)+2>=ii.length&&ii.length+ni.length<si}function wi(t,e){if("caption"==t){var n=(e=$("#butsave")).data("save");e.html(n||"Save"),e.prop("title","Save this track"),e.removeClassPrefix("but_").addClass("but_save")}else"word"==t&&e.html("Save")}var Ti,_i,Ei=(_i={},(Ti={}).togglePanel=function(t){di.getCurrentTrack();var e=$(t);if(ne.loggedIn&&e.hasClass("openSave")){var n=e.hasClass("but_saved");if(!Pt||n){var i=Zn.getCaption();return void(i&&(n?yr("/content.jsp?cid="+i.cid+(ne.bLocal?"&userlang="+ne.userLang:"")):e.hasClass("but_save")&&Ai(i.cid,i.display)))}}var o,r=(o=e).hasClass("openReport")?$("#a_report"):o.hasClass("openShare")?$("#a_share"):o.hasClass("openSave")?$("#a_save"):o.hasClass("openRecord")?$("#a_record"):null;if(r){var a=r.attr("id");!function(t){t.find(".rset_hide").hide(),t.find(".rset_show").show(),t.find(".rset_txt").val(""),t.find("select").prop("selected",!1),t.find("input[type=radio]").prop("checked",!1),t.find("#edt_video").prop("checked",!1),t.find("#edt_video_gender").prop("checked",!1),Ni($("#i_s_cat")),Ni($("#i_s_note"));var e=$("#i_s_caption"),n=Zn.getCaption();e.length&&e.val(n?tn(n.display):"")}(r),r.slideToggle("fast"),-1<a.indexOf("share")&&r.is(":visible")&&Li(!1),(-1<a.indexOf("report")||-1<a.indexOf("save")||-1<a.indexOf("record"))&&(r.is(":visible")?Vo.pause():Vo.resume()),$("#dbg_cid").show()}},Ti.closePanel=Oi,Ti.closePanels=function(){$("#all_actions").find(".menu_body").each(function(){$(this).hide()})},Ti.submitPanel=function(t){$("#dbg_cid").hide();var e=t instanceof jQuery?t:$(t),n=(e.html(),e.hasClass("doit-but")),i=function(t){if(t.hasClass("report-btn"))return"report"}(e);if(n){if(!function(t){if("report"===t){var e=$("input[name=r1]:checked",Ii(t)).val();if(void 0===e&&0==$("textarea[name=r_comment]",Ii(t)).val().length)return Di(t,"Enter your selection"),0;if("wrong_accent"==e){if(void 0===(e=$("input[name=r2]:checked",Ii(t)).val()))return Di(t,"Select a location"),0;if("other"===e&&0==$("input[name=i_country]",Ii(t)).val().length)return Di(t,"Enter your location"),0}}return 1}(i))return;var o=di.getCurrentTrack(),r=Zn.getCaption(),a=r?r.cid:"-1",s=$(Ii(i)).find("form:first").serialize();s="lang="+ne.jsLang+"&accent="+ne.jsAccent+"&userlang="+ne.userLang+"&emb="+ne.jsEmbedded+"&aj=1&result="+(1+di.getCurrentInd())+"&query="+encodeURIComponent(ne.jsQuery)+"&ccid="+a+"&cid="+o.cid+"&vid="+o.vid+"&start="+o.start+"&player_start="+Vo.getStart()+"&allcmd="+encodeURIComponent(l)+"&"+s,$(".prog_i").show(),$.ajax({type:"POST",url:"/access.jsp",data:s,success:function(t){$(".prog_i").hide(),kt(t=$.trim(t)).err?xi(i,500<Xe()?"An error occurs! Try again later.":"An error occurs!",!0):(xi(i,380<Xe()?ki("MSGSENT")+". "+ki("THANKYOU")+"!":ki("THANKYOU")+"!",!0),Vo.resume())},error:function(){xi(i,"An error occurs!!",!0)}})}else $(Si(i)).slideUp()},Ti.refresh=function(){var t=di.getCurrentInd();di.getCurrentTrack(),0==t?($("#toolbar .tb_twitter").html(""),$("#toolbar .tb_fb").html(""),$(".tb_copy").css("background-color","white"),$(".tb_copy a").text(P("Copy link"))):Li(!0)},Ti.save=function(){var t=Zn.getCaption(),e=null,n=null;t&&($("#i_s_caption").length&&(e=$("#i_s_cat").val(),n=$("#i_s_note").val()),Ai(t.cid,t.display,e,n,"#a_save"))},Ti.unSave=function(t,i){$.ajax({type:"POST",url:"/access.jsp",data:"lang="+t+"&userlang="+ne.userLang+"&emb="+ne.jsEmbedded+"&op=remcontent&cid="+i,success:function(t){var e=kt(t=$.trim(t));if(e.err){if("LOGIN_REQUIRED"==e.msg)return Ot(),void Et(".login_required");console.log("An error occurs. Try again later.")}else _i[i]=0,yr("/content.jsp"+(ne.bLocal?"?userlang="+ne.userLang:""))},error:function(t,e,n){console.log("unSave error occur for cid: "+i+" -error: "+t.status+"\nthrownError: "+n)}})},Ti.copyLink=function(){var t=di.getCurrentTrack();null!=t&&function(t){var e=document.createElement("textarea");e.style.position="fixed",e.style.top=0,e.style.left=0,e.style.width="2em",e.style.height="2em",e.style.padding=0,e.style.border="none",e.style.outline="none",e.style.boxShadow="none",e.style.background="transparent",e.value=t,document.body.appendChild(e),e.select();try{var n=P("Copied!");document.execCommand("copy")||(n="Ops,unable!")}catch(t){n="Ops,unable!"}$(".tb_copy a").css("background-color","red").css("color","white").text(n),document.body.removeChild(e)}(window.location.protocol+"//"+window.location.host+"/getbyid/"+t.cid+"/"+encodeURIComponent(ne.jsQuery)+"/"+ne.jsURLTokenLight)},Ti.refreshSavedBut=function(n,i){0<n&&ne.loggedIn&&!ne.jsEmbedded&&(ji(n)||$.ajax({type:"POST",url:"/access.jsp",data:"lang="+ne.jsLang+"&emb="+ne.jsEmbedded+"&op=exist&cid="+n,success:function(t){var e=kt(t=$.trim(t));e.err?(_i[n]=!1,ji(n)):(_i[n]=e.exist,ji(n),0==e.exist&&i&&i())}}))},Ti);function ji(t,e){var n=_i[t];if(null==n)return!1;var i=$("#butsave");if(!i.length)return!1;if(!e&&-1!=i.html().indexOf("Saving"))return!1;if(1==n){var o=i.data("saved");i.html(o||"Saved!"),i.prop("title","Got to my content"),i.removeClassPrefix("but_").addClass("but_saved")}else wi("caption");return!0}function Ai(n,t,e,i,o){if(0<n){$("#butsave").html("Saving..."),$(".prog_i").show();var r=di.getCurrentTrack();$.ajax({type:"POST",url:"/mng_uc.jsp",data:"lang="+ne.jsLang+"&emb="+ne.jsEmbedded+"&aj=1&op=add_track&query="+encodeURIComponent(ne.jsQuery)+"&cid="+n+"&caption="+encodeURIComponent(t)+"&video="+r.vid+(e?"&cat="+encodeURIComponent(e):"")+(i?"&note="+encodeURIComponent(i):""),success:function(t){$(".prog_i").hide();var e=kt(t=$.trim(t));if(e.err){if(wi("caption"),"LOGIN_REQUIRED"==e.msg||"Access denied"==e.msg)return Ot(),void $r("#butsave");if("DB_ALREADYSAVED"==e.msg)return _i[n]=1,void ji(n,!0);e.error_code==EXT_SUBSCRIPTION_EXPIRED?($("#butsave").html("Save"),Et(".subscription_expired")):e.error_code==EXT_SUBSCRIPTION_SUSPENDED?($("#butsave").html("Save"),Et(".subscription_suspended")):e.error_code==EXT_SUBSCRIPTION_CONTENT_QUOTA_EXCEED?($("#butsave").html("Save"),Et(".content_quota_exceed")):e.error_code==EXT_MASTER_DOWN?($("#butsave").html("Save"),Et(".not_available")):alert("An error has occured. Re-login and try again. If it persists, contact admin@youglish.com to get support (errcode: "+e.error_type+"/"+e.error_code+")")}else _i[n]=1,ji(n,!0);o&&$(o).length&&($(o).slideUp(),Vo.resume())},error:function(){xi(whichOne,"An error occurs.",!0)}})}}function Si(t){return"#a_"+t}function Ii(t){return"#a_"+t}function ki(t){if("THANKYOU"==t)switch(ne.userLang){case p:return"Thank you";case d:return"Merci";case f:return"Gracias";case g:return"Vielen Dank";case m:return"Grazie";case C:return"Obrigado";case T:return"شكرا جزيلا";default:return"Thank you"}if("MSGSENT"==t)switch(ne.userLang){case p:return ne.bEditMode?"Operation done":"Message sent";case d:return"Message envoy&eacute;";case f:return"Mensaje enviado";case g:return"Nachricht gesendet";case m:return"Messaggio inviato";case C:return"Mensagem enviada";case T:return"تم الارسال";default:return"Message sent"}}function Ni(t){t.length&&t.val("")}function xi(t,e,n,i){$(".pan-ttl-text",Ii(t)).hide(),$(".ttldone",Ii(t)).html(e).show(),n&&$(".panel-body",Ii(t)).slideUp(),setTimeout(function(){Oi(t,!0)},i||(ne.bEditMode?3e3:2e3))}function Di(t,e){$(Ii(t)).find(".a_err").html(e).show()}function Oi(t,e){e?$(Si(t)).fadeOut():$(Si(t)).hide()}function Li(t){$(".tb_copy a").css("background-color","white").css("color","#337ab7").text(P("Copy link"));var e=di.getCurrentTrack();if(null!=e){var n=window.location.protocol+"//"+window.location.host+"/getbyid/"+e.cid+"/"+encodeURIComponent(ne.jsQuery)+"/"+ne.jsLang+"/"+ne.jsAccent,i="Check out ",o=null;try{for(;;){if(!t)try{if(0<$("#toolbar .tb_twitter").html().length)break}catch(t){}(o=$("#toolbar .tb_twitter")).html('<a href="https://twitter.com/share" class="twitter-share-button" data-url="'+n+'" data-text="'+i+'" data-count="none">Tweet</a>'),twttr.widgets.load();break}}catch(t){}try{for(;;){if(!t)try{if(0<$("#toolbar .tb_fb").html().length)break}catch(t){}(o=$("#toolbar .tb_fb")).html('<div class="fb-share-button" data-href="'+n+'" data-type="button"></div>'),FB.XFBML.parse();break}}catch(t){}o=$("#toolbar .tb_gmail");var r="https://mail.google.com/mail/?view=cm&fs=1&tf=1&su="+(i="Check out this YouGlish video")+"&body="+encodeURI(n);o.html('<a rel="noopener" class="gmail nodec" target="_blank" href="'+r+'"><img src="'+Ze("gmail_logo.gif")+'" /></a>')}}var Ri,Pi,Ui,Fi,Mi,Yi,zi,Qi=(zi=(Yi={UNKNOW:-1,WATCH:Mi=0,REPEAT:1}).UNKNOW,(Fi={}).onNewCaption=function(t,e){Pi=t,Ui=e;var n,i=fo.getWatchTime(),o=fo.getRepeatDuration(),r=Zn.getCaption(),a=function(t,e){if(null==t||null==t||null==e||null==e)return!1;var n=e.cid-t.cid;return 0<n&&n<3}(r,t);if(a||Vi(),a&&Mi<i)return n=r.start,zi=Yi.WATCH,$(".vdisplay").show(),Mi++,$("#vttl").html(Mi).show(),Vo.seek(n),Vo.pause(),Ge(1),window.setTimeout(Bi,1e3),!1;if(a){if(0<o)return Vo.pause(),$("#vttl").html("Your turn").css("color","green"),Ge(2),function(t){Gi();var e=t,n=setInterval(function(){zi=Yi.REPEAT,$("#vtimer").html("("+e+" sec)").show(),--e<0&&(Mi=1,zi=Yi.WATCH,Zn.setCaptionProper(Pi,Ui,"resumeTimer"),$("#vttl").html(Mi).css("color","red"),$("#vtimer").hide(),clearInterval(n),Vo.resume())},1e3);Ri=n}(o),!1;Mi=0}return!0},Fi.prev=function(){Zn.moveToPrev()},Fi.next=function(){Zn.moveToNext()},Fi.yourTurn=function(){return zi==Yi.REPEAT},Fi.reset=Vi,Fi.refreshUI=function(t,e){t<1?$("#v_prev").css({opacity:.2}).removeClass("hand"):$("#v_prev").css({opacity:.8}).removeClass("hand").addClass("hand"),0<=t&&t<e-1?$("#v_next").css({opacity:.8}).removeClass("hand").addClass("hand"):$("#v_next").css({opacity:.2}).removeClass("hand")},Fi);function Vi(){zi=Yi.UNKNOW,Mi=0,Gi(),$("#vttl").html("").css("color","red"),$("#vtimer").html(""),fo.isWatchAndRepeatMode()||$(".vdisplay").hide()}function Bi(){Vo.resume()}function Gi(){Ri&&(clearInterval(Ri),Ri=null)}var Hi,Wi,qi,Ki,Xi,Zi,Ji,to,eo,no,io,oo,ro,ao,so,lo,co,uo,ho,po,fo=(Wi="0",qi="1",Ki=-1,Xi=2,Zi=3,(Hi={}).init=function(){null==(Ki=dn("vmod"))&&(Ki=Wi),$("input[name=voptions][value="+Ki+"]").prop("checked",!0),$("input[type=radio][name=voptions]").change(function(){Ki=this.value,cn("vmod",Ki,600),Qi.reset()}),null==(Xi=dn("vtm"))&&(Xi=2),$("#vtime").val(""+Xi),$("#vtime").on("change",function(){Xi=this.value,cn("vtm",Xi,600)}),null==(Zi=dn("vdur"))&&(Zi=3),$("#vdur").val(""+Zi),$("#vdur").on("change",function(){Zi=this.value,cn("vdur",Zi,600)})},Hi.isWatchAndRepeatMode=function(){return ne.reqType==Jt.LESSON_VIDEO&&Ki==qi},Hi.getWatchTime=function(){return parseInt(Xi)},Hi.getRepeatDuration=function(){return parseInt(Zi)},Hi),go=(eo={},no={},io=[],oo=-1,ro=!0,ao=$("#ac_container"),so=$("#ac_data"),lo=$("#ac_msg"),co=$("#ac_options"),ho=uo=!1,po=null,qt(Ht.CAPTION_CONSUMED,wo),qt(Ht.CAPTION_CHANGE,To),$("#ac_query").keyup(function(t){var n;Co(),n=$("#ac_query").val(),so.find(".ac_sr_highlight").removeClass("ac_sr_highlight"),n?(So(),so.find("li:Contains("+n+")").each(function(){var t=$(this).find(".ac_caption"),e=t.text().replace(new RegExp(n,"ig"),"<span class='ac_sr_highlight'>$&</span>");t.html(e),io.push($(this).attr("id"))}),co.find(".ac_sr_count").html("("+io.length+")").show(),0<io.length?(co.find(".ac_barrow").show(),co.find(".ac_breplay").hide()):co.find(".beffect:not(.ac_close,.ac_sync,.ac_loopmode)").hide()):So()}),co.find(".ac_bdown").on("click",function(t){Io(1)}),co.find(".ac_bup").on("click",function(t){Io(-1)}),co.find(".ac_breplay").on("click",function(t){Io(0)}),co.find(".ac_close").on("click",function(t){Co(),vo()}),co.find(".ac_sync").on("click",function(t){ro=!ro,xo(),ro&&_o(300)}),co.find(".ac_loopmode").on("click",function(t){ho=!ho,No()}),eo.toggle=vo,eo.show=bo,eo.hide=yo,eo.scroll=_o,eo.synchCap=ko,eo.clean=function(){$("#ac_container").css("width",""),$("#player").css("width","")},eo.onVideoChange=function(t){ko(!0),to=t,uo=!1,Co(),mo()?ao.is(":visible")&&$o():ao.hide(),So(!0)},eo);function mo(){return"videowrapper"==ao.parent().attr("id")}function vo(){ao.is(":visible")?yo(!0):bo(!0)}function yo(t){mo()?ao.animate({width:0},300,function(){ao.hide(),$("#player").animate({width:"100%"},300)}):ao.slideUp({complete:function(){wr()}})}function bo(t){$o(),mo()?($("#player").animate({width:"60%"},300),ao.show().animate({width:"40%"},300,function(){_o(300)})):(ao.slideDown({complete:function(){wr()}}),_o(300)),ko(!0)}function $o(){to&&(uo?Ao():no[to]?(jo(),Ao(no[to])):(jo(),Zn.fetchAllCaptions(to,Eo)))}function Co(){ho=!1,po=null,No()}function wo(){if(ho&&po){var t=po.attr("data-start");return Vo.seek(t),!0}return!1}function To(t){t=t||Zn.getCaption().cid;if(Ji=t,ro)_o();else{var e=$("#ac_"+Ji);e.length&&(po=e)}}function _o(t){try{if(Ji&&ao.is(":visible")){var e=$("#ac_"+Ji);if(!e.length)return;var n=so.height()/2;n-=.2*n;var i=e.offset().top-so.offset().top+so.scrollTop()-n;i<0&&(i=0),so.animate({scrollTop:i},{duration:t||500,complete:function(){so.find(".ac_current_cap").removeClass("ac_current_cap"),e.addClass("ac_current_cap"),po=e}})}}catch(t){console.log("Oops... "+t.message)}}function Eo(t){try{var e=t.results,n="<ul>";for(i=0;i<e.length;i++){var o=e[i].display,r=e[i].cid,a=e[i].start;n+="<li id='ac_"+r+"' data-start='"+a+"'><div style='display:flex'><div data-id='"+r+"' data-start='"+a+"' class='ac_play_but beffect'><img  title='play' width=20 height=20 src='/images/play.png' class='hand' /></div><div class='ac_caption'>"+o+"</div></div></li>"}n+="</ul>",Ao(no[to]=n)}catch(t){console.log(t.message),so.html("<div class='well'>No result found!</div>")}}function jo(){lo.html("<div class='loading'>Loading, please wait...</div>").show(),so.hide()}function Ao(t){t&&(so.html(t),so.find(".ac_play_but").on("click",function(t){var e=$(this).attr("data-start");Vo.seek(e);var n=$(this).parent().parent();so.find(".ac_current_cap").removeClass("ac_current_cap"),n.addClass("ac_current_cap"),po=null,ne.jsYTAccess!=Qt&&(Ji=$(this).attr("data-id"),_o())})),lo.hide(),so.show(),To(Ji),wr(),uo=!0}function So(t){t&&$("#ac_query").val(""),co.find(".ac_sr_count").html("").hide(),co.find(".beffect:not(.ac_close,.ac_sync,.ac_loopmode)").hide(),io=[],oo=-1,po=null}function Io(t){ko(!(po=null)),(oo+=t)<0&&(oo=0),oo>=io.length&&(oo=io.length-1);var e=io[oo],n=$("#"+e).attr("data-start");Vo.seek(n),co.find(".ac_sr_count").html("("+(oo+1)+"/"+io.length+")").show(),co.find(".ac_breplay").show(),ne.jsYTAccess!=Qt&&(Ji=$("#"+e).find(".ac_play_but").attr("data-id"),_o())}function ko(t){(t&&!ro||ro&&!t)&&(ro=t,xo())}function No(){var t=co.find(".ac_loopmode");ho?(t.prop("title","Turn off loop mode"),t.css("color","red").css("border-color","red")):(t.prop("title","Turn on loop mode"),t.css("color","#6495BF").css("border-color","#6495BF"))}function xo(){var t=co.find(".ac_sync");ro?(t.html("U"),t.prop("title","Unsync with player"),t.css("color","#6495BF").css("border-color","#6495BF")):(t.html("S"),t.prop("title","Sync with player"),t.css("color","red").css("border-color","red"))}var Do,Oo,Lo,Ro,Po,Uo,Fo,Mo,Yo,zo,Qo,Vo=(Po=!(Ro=Oo=null),Fo=!(Uo=Lo=-1),Mo="default",Yo=null,Qo=zo=-1,(Do={}).loadVideo=function(t,e){if(j("Welcome to loadVideo - video: "+t+" -sec: "+e),Ro=t,zo=Lo=e,ne.jsYTAccess==Qt)null==Oo?(Ar("creating YT.Player...config.jsPatchYTDelay: "+ne.jsPatchYTDelay+" msec"),j("creating YT.Player (NOT asynch & youtube.com) -config.jsPatchYTDelay: "+ne.jsPatchYTDelay+" -jsChromePatchDelay: "+ne.jsChromePatchDelay),Oo=new YT.Player("player",{videoId:Ro,playerVars:{playsinline:1,iv_load_policy:3,rel:0,showinfo:Rt?1:0,controls:1,fs:0,start:Lo,autoplay:ne.jsStart?1:0},events:{onReady:Go,onStateChange:Ho,onError:Ko,onPlaybackRateChange:Bo}}),console.log("patchForChrome - config.jsChromePatchDelay: "+ne.jsChromePatchDelay),setTimeout(function(){Fo||Et(".know_issue")},ne.jsChromePatchDelay),console.log("player created(v1) - playsinline set to 1 -start: "+ne.jsStart),j("YT.Player created  -player: "+Oo+" -start: "+ne.jsStart)):(Oo.loadVideoById(Ro,e),ne.jsStart||Oo.pauseVideo());else{Go();var n=null;ne.jsYTAccess==Vt?(n="<div data-video='"+t+"' data-loc='"+e+"' class='player_noapi unselectable'>",n+="<img  src='https://img.youtube.com/vi/"+t+"/0.jpg'>",n+="<div class='warning'>YouTube API is not available. Click below to watch this track on YouTube.</div>",n+="<div class='centered'><span class='play material-icons'>play_circle_outline</span></div>",n+="</div>"):ne.jsYTAccess==Bt&&(n="<iframe src='https://www.youtube-nocookie.com/embed/"+t+"?autoplay=1&start="+e+"' frameborder='0' allow='accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture' allowfullscreen></iframe>"),n&&$("#player").html(n)}},Do.seek=qo,Do.stop=function(){Fo&&Oo&&Oo.stopVideo()},Do.pause=function t(e){if(Fo&&Oo)if(e){if(Oo.hasOwnProperty("getVolume")){var n=Oo.getVolume();return n<=0?(Oo.pauseVideo(),Oo.unMute(),Oo.setVolume(100)):(Oo.setVolume(n-5),setTimeout(function(){return t(!0)},100))}}else Oo.pauseVideo()},Do.resume=function(){Fo&&Oo&&Oo.playVideo()},Do.play=function(){Fo&&Oo&&Oo.playVideo()},Do.restart=function(){Fo&&Oo&&("app"==ne.jsEmbClient==0&&(n||r)?setTimeout(function(){Oo.seekTo(Lo,!0),Oo.playVideo()},1e3):(Oo.seekTo(Lo,!0),Oo.playVideo()))},Do.reset=function(){Do={},Lo=-1,Po=!(Ro=Oo=null)},Do.ready=function(){return Fo},Do.move=function(t){if(Fo){t=Number(t);var e=Wo()-t;qo(e=0<e?e:0)}},Do.getCurrentTime=Wo,Do.isPlaying=function(){return Uo==YT.PlayerState.PLAYING},Do.setQuality=function(t){t&&(Mo=t)},Do.getQuality=function(){return Mo},Do.updateSpeed=function(t,e){if(Fo&&Oo)try{var n=Oo.getPlaybackRate(),i=e?.1:.05,o=t?n+i:n-i;(o=(o=o>Yo[Yo.length-1]?Yo[Yo.length-1]:o)<Yo[0]?Yo[0]:o)&&Oo.setPlaybackRate(o)}catch(t){console.log("ooops.... "+t.message)}},Do.setSpeed=function(t){if(Fo&&Oo)try{Oo.setPlaybackRate(Number(t))}catch(t){console.log("ooops.... "+t.message)}},Do.getVideo=function(){return Ro},Do.getStart=function(){return Lo},Do);function Bo(t){var e=t.data;if(e){cn(Ne,e);var n="&times"+e;1==e?n="normal":.25==e?n="min":2==e&&(n="max"),$(".speedval").html(n),ne.jsEmbId&&re({action:Ht.PLAYER_SPEED_UPDATED,speed:e})}}function Go(t){if(j("******* YT Event - Welcome to onPlayerReady - event: "+t+" -player: "+Oo),$("#genericDlg").modal("hide"),Ar("onPlayerReady(S)"),Lt(),a=Fo=!0,re({action:Ht.PLAYER_READY}),ne.jsYTAccess==Qt){var e=dn(Ne);e&&Oo.setPlaybackRate(Number(e)),null==(Yo=Oo.getAvailablePlaybackRates())||null==Yo||Yo.length<2?Yo=null:$(".speed").css("display","flex")}lr(),j("onPlayerReady done.")}function Ho(t){Uo=-1,j("******* YT Event - Welcome to onPlayerStateChange - event: "+t+" -player: "+Oo),Oo&&(Fo||(j("****calling onPlayerReady from ...onPlayerStateChange event.data: "+function(t){switch(t){case YT.PlayerState.ENDED:return"ENDED";case YT.PlayerState.PLAYING:return"PLAYING";case YT.PlayerState.PAUSED:return"PAUSED";case YT.PlayerState.BUFFERING:return"BUFFERING";case YT.PlayerState.CUED:return"CUED";case Qo:return"UNSTARTED"}return"???"}(t.data)),Go()),re({action:Ht.PLAYER_STATECHANGE,state:t.data}),Po&&t.data==YT.PlayerState.PLAYING&&(j("payer state set to YT.PlayerState.PLAYING..."),Ar("Player playing......."),Lt(),Po=!1),Uo=t.data,Sn.onPlayerStatusChange(Uo))}function Wo(){if(ne.jsYTAccess==Qt){if(!Oo)return;try{return Oo.getCurrentTime()}catch(t){return-1}}return zo}function qo(t){if(Fo)if(t=null==t?Lo:t,t=Number(t),zo=t,ne.jsYTAccess==Qt)Oo.seekTo(t,!0),Oo.playVideo();else if(ne.jsYTAccess==Vt){vr("https://www.youtube.com/watch?v="+Ro+"&t="+t+"s")}else if(ne.jsYTAccess==Bt){var e="https://www.youtube-nocookie.com/embed/"+Ro+"?autoplay=1&start="+t;$("#player iframe").attr("src",e)}}function Ko(t){if(j("******* YT Event - Welcome to onPlayerError - event: "+t+" -player: "+Oo),re({action:Ht.ERROR,code:Gt,idx:t.data}),t.data&&Number(t.data)>ne.minErr){var e="/access.jsp?lang="+ne.jsLang+"&op=player_error&err="+t.data+"&vid="+Ro+"&accent="+ne.jsAccent+"&query="+encodeURIComponent(ne.jsQuery);$.ajax({url:e,success:function(t){}})}Po&&(Lt(),Po=!1,Sn.onPlayerStatusChange(YT.PlayerState.PLAYING))}var Xo,Zo,Jo,tr,er,nr,ir,or=(Xo={},tr=4,er=(Jo=Zo=0)<$(".video-slider").length,ir=!(nr=!1),Xo.init=rr,Xo.onNewEntry=function(t,e){if(er){nr||rr(),ir=!0,1&ne.dbg&&console.log("[SLIDDER]  - onNewEntry: "+t.vid+" -pos: "+e),$(".video-slider").width();var n="<div data-pos='"+e+"' class='vs-unit'>";n+="<img  src='https://img.youtube.com/vi/"+t.vid+"/mqdefault.jpg'>",n+="<span class='pos'>"+e+"</span></div>",$(".video-slider").slick("slickAdd",n),Jo++}},Xo.onFillDone=function(){if(1&ne.dbg&&console.log("[SLIDDER]  - FillDone"),er){nr||rr();var t="content-thumnail";$(".video-slider .play").length&&(t="content-play"),$(".slider_wrapper").removeClass(function(t,e){return(e.match(/\bcontent-\S+/g)||[]).join(" ")}).addClass(t),ar()}},Xo.onPlaying=function(t){er&&(nr||rr(),ir=!0,$(".vs-unit").removeClass("selected-video"),$('.vs-unit[data-pos="'+(t+1)+'"]').addClass("selected-video"),$(".video-slider").slick("slickGoTo",t))},Xo.refresh=function(){er&&(nr||rr(),ir&&($(".video-slider").slick("refresh"),ir=!1))},Xo);function rr(){er&&(nr||($(".video-slider").slick({focusOnSelect:!0,accessibility:!1,speed:280,slidesToShow:tr,slidesToScroll:tr,infinite:!1,prevArrow:!1,nextArrow:$(".slidder-next"),responsive:[{breakpoint:600,settings:{slidesToShow:2,slidesToScroll:2}}]}),$("body").on("click",".slidder-prev",function(){var t=Zo-1;$(".video-slider").slick("slickGoTo",0<t?t:0)}),$(".video-slider").on("beforeChange",function(t,e,n,i){ir=!0,n<(Zo=i)&&ar(),0==Zo?$(".slidder-prev").removeClass("beffect hand").addClass("desactivated"):$(".slidder-prev").addClass("beffect hand").removeClass("desactivated")}),$("body").on("mouseenter",".vs-unit",function(){$(this).addClass("on-hover")}),$("body").on("mouseleave",".vs-unit",function(){$(this).removeClass("on-hover")}),$("body").on("click",".vs-unit",function(){var t=$(this);if(t.hasClass("selected-video"))cr();else{var e=t.find(".pos").html();di.play(e-1)}}),nr=!0))}function ar(){1&ne.dbg&&console.log("[SLIDDER]  - Fill -slideIndex: "+Zo+" -limit: "+(Zo+2*tr)+" -totalSlide: "+Jo+" -isFetchable: "+di.fetchable(Jo)),Jo<Zo+2*tr&&di.fetchable(Jo)&&(1&ne.dbg&&console.log("[SLIDDER]  - calling EntryMng.fetch"),di.fetch())}function sr(){j("Welcome to setUpPlayer  - EntryMng.totalLoaded(): "+di.totalLoaded()),0==di.totalLoaded()?(a=!1,$("#player").hide(),Vo.pause(),$("#caption").hide(),$("#controlID").hide(),$(".result_container").html(""),0==ne.jsTotalResult&&re({action:Ht.UNREADY})):($("#player").show(),$("#info").hide(),di.next()),wr()}function lr(){var t,e,n=di.getCurrentInd(),o=di.getCurrentTrack();if(o&&o.tags&&$("#htags").length){var r="",a=o.tags.split(",");for(i=0;i<a.length;i++){r+="<li><a rel='nofollow' href='"+(t=a[i],-1!=(e=(t=t.replace(/[- ]/g,"")).indexOf("("))&&(t=t.substring(0,e)),"/pronounce/"+qe(ne.jsQueryTerm+" #"+t))+"' class='nodec'>"+a[i]+"</a></li>"}$("#htags .list-inline").html(r),$("#htags").show()}ne.reqType!=Jt.LESSON_VIDEO&&Ei.refresh(),Ei.closePanels(),Vo.ready()&&($("#controlID .disable").addClass("hand").removeClass("disable"),n<1&&$("#b_prev").removeClass("hand").addClass("disable"),n+1==di.getTotal()&&$("#b_next").removeClass("hand").addClass("disable"))}function cr(){Zn.onStartTrack(!0),Zn.setCaption(di.getCurrentTrack()),Vo.seek(),or.onPlaying(di.getCurrentInd())}function dr(t){Vo.move(t)}function ur(){-1!=$("#b_pause img").attr("src").indexOf("pause")?Vo.pause():Vo.resume()}var hr=0;function pr(t,e){e?($(document).on("mousedown",t,function(t){$(this).animate({bottom:"-=2",right:"-=2"},0),hr=1,t.preventDefault()}),$(document).on("mouseup",t,function(){1==hr&&($(this).animate({bottom:"+=2",right:"+=2"},0),hr=0)}),$(document).on("mouseout",t,function(){1==hr&&($(this).animate({bottom:"+=2",right:"+=2"},0),hr=2)})):($(document).on("mousedown",t,function(t){$(this).animate({top:"+=2",right:"-=2"},0),hr=1,t.preventDefault()}),$(document).on("mouseup",t,function(){1==hr&&($(this).animate({top:"-=2",right:"+=2"},0),hr=0)}),$(document).on("mouseout",t,function(){1==hr&&($(this).animate({top:"-=2",right:"+=2"},0),hr=2)}))}function fr(t){t?$("#dico_sel").hide():$("#dico_sel").slideToggle(100)}function gr(){ne.reqType!=Jt.INDEX&&ne.reqType!=Jt.LESSON_WORD&&($(".dico_opener").click(function(t){fr(!1)}),$("body").on("click","#dico_sel .hand",function(t){var e=$(this).data("target");$(".openDico").removeClass("selected"),$('.openDico[data-me="'+e+'"]').addClass("selected"),cn(Ye,e),fr(!0),$("#dico_sel li").removeClass("selected hand").addClass("hand"),$(this).removeClass("selected hand").addClass("selected")}),pr(".beffect",!1),pr(".beffect_bt",!0),$("#controlID .beffect").on("click",function(t){j("---------------------------START"),j("Wecome to beffect handler");var e=t.ctrlKey||t.metaKey;if($(this).hasClass("disable"))Vo.ready()||Et(".know_issue");else{j("...beffect pass test1 OK"),t.stopPropagation(),t.preventDefault();var n=$(this).attr("id");if(j("...beffect pass test2 OK ["+n+"]"),"b_next"==n)di.next();else if("b_prev"==n)di.prev();else if("b_replay"==n)cr();else if("b_back"==n)dr(At);else if("b_pause"==n)ur();else if($(this).hasClass("faster"))Vo.updateSpeed(!0,e);else if($(this).hasClass("slower"))Vo.updateSpeed(!1,e);else if($(this).hasClass("toggleplayersize")){var i=Number($(this).data("delta"));e&&(i=-i),0!=(i=function(t,e){if(ne.jsEmbedded)return 0;if(!$("#videowrapper").length||ne.reqType!=Jt.SEARCH&&ne.reqType!=Jt.GETCID)return 0;var n=$("#videowrapper iframe").height(),i=0<t&&n<410||t<0&&(!n||200<n);i||(t=-t);var o=Number($("#videowrapper").data("pad_bottom"))+(0<t&&!i?2*t:t);return $("#videowrapper").animate({paddingBottom:o+"%"}),$("#videowrapper").data("pad_bottom",o),e&&cn(xe,o),t}(i,!0))&&$(this).data("delta",i),$(".toggleplayersize .material-icons").html(0<i?"vertical_align_bottom":"vertical_align_top"),$(".toggleplayersize").prop("title",0<i?"Increase player frame (CTRL to reverse)":"Reduce player frame (CTRL to reverse)")}else if($(this).hasClass("togglethumbnail")){var o=$(".slider_wrapper");o.length&&o.slideToggle("fast","swing",function(){0==$(this).is(":hidden")&&or.refresh(),wr()})}j("...beffect process done!"),j("---------------------------END")}}),$(".togglelight").click(function(){var t=$(this).data("theme");mr(t="theme_light"==(t=t||"theme_light")?"theme_dark":"theme_light",!0,!0)}),$(".togglecaps").click(function(t){t.ctrlKey||t.metaKey?$("#caption").toggle():go.toggle()}),$(".nextcap").click(function(t){Qi.next()}),$(".prevcap").click(function(t){Qi.prev()}),$("body").on("click",".player_noapi",function(){var t=$(this);vr("https://www.youtube.com/watch?v="+t.data("video")+"&t="+t.data("loc")+"s")}),$("body").on("click",".extended_search .ctrl",function(){cn(Me,!$(this).hasClass("on"),365),document.location.reload(!0)}),$("body").on("click",".extended_search .help",function(){$(".extended_search .help_panel").slideToggle("fast")}),$(document).keydown(function(t){if(!$(t.target).is(":input, [contenteditable]")){var e=t.ctrlKey||t.metaKey,n=t.shiftKey,i=!0;39==t.keyCode&&e&&n?dr(-At):37==t.keyCode&&e&&n?dr(At):39==t.keyCode&&e?di.next():37==t.keyCode&&e?di.prev():187==t.keyCode&&n?Vo.updateSpeed(!0):189==t.keyCode&&n?Vo.updateSpeed(!1):13==t.keyCode&&e?cr():32==t.keyCode&&e?ur():i=!1,i&&(t.stopPropagation(),t.preventDefault())}}),ne.jsEmbedded||mr(dn(ke),!1,!1))}function mr(t,e,n){t&&(e&&cn(ke,t),$(".togglelight").data("theme",t),$(".toggle-light-listener, #player_container iframe").each(function(){$(this).removeClass("light-transition"),n&&$(this).addClass("light-transition"),$(this).removeClass(function(t,e){return(e.match(/\btheme_\S+/g)||[]).join(" ")}).addClass(t)}))}function vr(t){window.open(t,"_blank").focus()}function yr(t){window.location.href=t}function br(){if(ne.jsEmbPartBGColor){var t=$(".ygPanel");t.css("background-color",ne.jsEmbPartBGColor),t.css("border-color",ne.jsEmbPartBGColor)}if(ne.jsEmbTextColor&&$("body").css("color",ne.jsEmbTextColor),ne.jsEmbKeywordColor&&$(".keyword").css("color",ne.jsEmbKeywordColor),ne.jsEmbBGColor&&("#000000"==ne.jsEmbBGColor&&(ne.jsEmbBGColor="theme_dark"),ne.jsEmbBGColor.startsWith("theme")?mr(ne.jsEmbBGColor,!1,!1):($("body").css("background-color",ne.jsEmbBGColor),$("#caption").css("background-color",ne.jsEmbBGColor),$("#controlID").css("background-color",ne.jsEmbBGColor),$(".ygSearch").css("background-color",ne.jsEmbBGColor))),ne.jsEmbLinkColor&&$("a").css("color",ne.jsEmbLinkColor),ne.jsEmbTitleColor&&$("#ttlr h1").css("color",ne.jsEmbTitleColor),ne.jsEmbCapColor&&$(".caption").css("color",ne.jsEmbCapColor),ne.jsEmbQueryColor&&$(".query ").css("color",ne.jsEmbQueryColor),ne.jsEmbMarkerColor){var e=$("<style>.marker{ background-color: "+ne.jsEmbMarkerColor+"; }</style>");$("html > head").append(e)}ne.jsEmbCapSize&&0<ne.jsEmbCapSize&&40!=ne.jsEmbCapSize&&$(".caption").css("font-size",ne.jsEmbCapSize+"px"),ne.jsEmbCapLineHeight&&0<ne.jsEmbCapLineHeight&&$(".caption").css("line-height",ne.jsEmbCapLineHeight+"px"),ne.jsEmbCapFontFamily&&$(".caption").css("font-family",ne.jsEmbCapFontFamily),ne.jsEmbTitleFontFamily&&$("#ttlr h1").css("font-family",ne.jsEmbTitleFontFamily),ne.jsEmbAccentFontFamily&&$("#accentgrp").css("font-family",ne.jsEmbAccentFontFamily),ne.jsEmbFormFontFamily&&$("#gform").css("font-family",ne.jsEmbFormFontFamily)}function $r(t,e){var n=$(t).data("trgid");$("#all_actions .menu_body:not(#"+n+")").hide(),Ei.togglePanel(t),e.preventDefault()}var Cr=-1;function wr(t){if((t||ne.jsEmbeddedNotifHeight)&&ne.jsEmbId){var e=$("#last").offset().top;if(0==e)return;e!==Cr&&(Cr=e,te=!1,re({action:Ht.WIDGET_RESIZE,height:e+19}))}}function Tr(t){for(var e in"undefined"!=typeof accentsRequestedStr&&(u=Number(accentsRequestedStr)),t)t.hasOwnProperty(e)&&(ne[e]=t[e]);var n,i,o,r,a,s,l,c;console.log(">>>>> API mode: "+ne.jsYTAccess),ie(t.jsLang,t.jsAccent),ne.jsQuery&&(ne.jsQuery=We(unescape(ne.jsQuery)),ne.jsLang==E&&(ne.jsCleanQuery=sn(ne.jsQuery))),ne.jsIndexQuery&&(ne.jsIndexQuery=We(unescape(ne.jsIndexQuery)),ne.jsLang!=E&&(ne.jsCleanQuery=sn(ne.jsIndexQuery))),cn(Ee,Xe()+"",30),(n=dn(ge))&&(Ut=kt(n),$("#restricted").text(Ut?"OFF":"ON")),(i=dn(me))&&(Ft=kt(i)),(o=dn(ve))&&(Rt=kt(o)),(r=dn(be))&&kt(r),(a=dn(ye))&&(zt=kt(a))&&(Ve=-.8),(s=dn($e))&&(Pt=kt(s)),(l=dn(xe))&&5<(l=Number(l))&&l<100&&($("#videowrapper").css("paddingBottom",l+"%"),$("#videowrapper").data("pad_bottom",l)),c=dn(ze),isNaN(parseInt(c))||parseInt(c);var d=dn(Oe);d&&(At=Number(d)),(d=dn(Le))&&(St=Number(d)),(d=dn(Se))?Vo.setQuality(d):ne.jsVidQuality&&Vo.setQuality(ne.jsVidQuality),h=!0,Nr()}window.onYouTubeIframeAPIReady=function(){Ar("onYouTubeIframeAPIReady(S)"),re({action:Ht.YT_IFRAME_READY}),j("onYouTubeIframeAPIReady"),ne.reqType==Jt.LESSON_VIDEO?"undefined"==typeof YT||void 0===YT.Player?window.onYouTubeIframeAPIReady=function(){sr()}:sr():ne.jsonData&&(ne.jumpToCID?di.jump2(ne.jsonData,ne.jumpToCID):di.fill(ne.jsonData))};var _r=2,Er=3,jr=1;function Ar(t){console.log("[TM] "+t+" [time: "+(new Date-e)+" msec]")}function Sr(){var t,e;Ir((t=$("#q").val(),(e=di.getCurrentTrack())&&(t=t.replaceAll(":here"," #"+e.vid)),t))}function Ir(t){if(ne.jsEmbedded&&a)kr(t,ne.jsLang,ne.jsAccent);else{var e=t;if(0===e.trim().length)return!1;e="/pronounce/"+function(t){try{return t.replace(/\\/g,"/")}catch(t){j("exception occurs: "+t)}return t}(e=qe(e));var n=Zt!=Xt.REGULAR;e+="/"+(n?ne.jsURLToken:ne.jsURLTokenLight),n&&(e+="/qp="+Zt),console.log("config.dbg: "+ne.dbg),ne.dbg&o&&(console.log("\n\nnew contxtSearch call for: "+t),console.log("date: "+new Date),console.log("uri: "+e),console.trace()),$("#gform").attr("action",e),$("#gform").submit()}}function kr(t,e,n,i,o){var r,a;if(t=!(r=t)||75<r.length?null:((r=(r=(r=(r=(r=(r=(r=r.replaceAll("[“”]",'"')).replaceAll("’","'")).replaceAll("[\\%\\-\\+\\;\\,\\<\\>]"," ")).replaceAll("#"," #")).replaceAll("\\s+"," ")).replaceAll("[\\[\\]\\(\\)]","")).trim()).endsWith("#")&&(r=r.substring(0,r.length-1)),-1!=r.indexOf(" * ")&&(r=r.replaceAll(" \\* "," ")),r=r.replaceAll("\\.",""),r=-1==(a=r).indexOf('"')?a:(a.split('"').length-1)%2==1?a.replaceAll('"',""):a)){$("#q").val(t),ie(e,n),ne.jsQuery=t,ne.jsCleanQuery=sn(ne.jsQuery),ne.jsQueryTerm=ne.jsCleanQuery,ne.jsIndexQuery=t,ne.jsPlayList=i,ne.jsPartner=o,di.reset(),di.fetch(!0,null,function(){if(Zt=Xt.REGULAR,ne.jsTotalResult=di.getTotal(),$("#ttlrx").hide(),$("#didum").html(""),ne.jsIndexQuery=ee,ne.jsLang!=E&&(ne.jsCleanQuery=sn(ne.jsIndexQuery)),$("#accentgrp").length&&($("#accentgrp button").removeAttr("checked").prop("checked",!1).removeClass("active"),$('#accentgrp button[data-lang="'+ne.jsLang+'"][data-accent="'+ne.jsAccent+'"]').prop("checked",!0).addClass("active")),ne.jsTotalResult<1)$("#ttlr").hide(),$("#ttlrx").show(),$("#ttlrx .noresult").html("No result found."),0==ne.jsTotalResult&&re({action:Ht.UNREADY});else{var t=$("#ttlr");if(t.length){t.show();var e=t.find(".htag");e.length&&e.remove(),$("#ttl_total").html(ne.jsTotalResult),$("#ttl_indx").html(1),$("#ttl_lang").html((n=ne.jsLang,i=ne.jsAccent,n==p?i==U?"English":i==F?"American English":i==M?"British English":i==B?"Australian English":i==G?"Canadian English":i==H?"Irish English":i==W?"Scottish English":i==q?"New Zealand English":"English":n==d?i==U?"French":i==Y?"(Fr.) French":i==X?"(Qc.) French":i==Z?"(Be.) French":i==J?"(Ch.) French":"French":n==f?i==U?"Spanish":i==z?"(SP.) Spanish":i==rt?"(LA.) Spanish":"Spanish":n==m?"Italian":n==E?"Hebrew":n==D?"Polish":n==I?"Greek":n==k?"Swedish":n==g?"German":n==b?"Korean":n==x?"Turkish":n==w?"Russian":n==O?"Ukrainian":n==T?i==U?"Arabic":i==ht?"(EG.) Arab":i==dt?"(SA.) Arab":i==ut?"(DZ.) Arab":i==yt?"(MA) Arab":i==$t?"(TN.) Arab":i==bt?"(LB.) Arab":i==Ct?"(JO.) Arab":i==ft?"(QA.) Arab":i==gt?"(AE.) Arab":i==mt?"(kW.) Arab":i==vt?"(BH.) Arab":i==wt?"(OM.) Arab":i==pt?"(AF.) Arab":i==_t?"(PS.) Arab":i==ct?"(IL.) Arab":i==Tt?"(LY.) Arab":"Arabic":n==v?"Japanese":n==N?"Thai":n==C?i==U?"Portuguese":i==V?"(BR.) Portuguese":i==Q?"(PT.) Portuguese":"Portuguese":n==_?i==U?"Dutch":i==at?"(NL.) Dutch":i==Z?"Flemish":"Dutch":n==y?i==K?"(cn) Chinese":i==tt?"(tw) Chinese":i==et?"(sg) Chinese":i==nt?"(hk) Chinese":i==it?"(sh) Chinese":i==ot?"(mo) Chinese":i==st?"(mn) Chinese":"Chinese":n==L?i==U?"Sign Language":i==F?"(US) Sign Language":i==M?"(UK) Sign Language":i==H?"(IE) Sign Language":i==B?"(AUS) Sign Language":i==q?"(NZ) Sign Language":i==lt?"(Int.) Sign Language":"Sign Language":"English")),$("#ttl_q").html(ne.jsQuery)}}var n,i;ne.jsEmbedded&&re({action:Ht.SEARCH_DONE,query:ne.jsQuery,lang:mn.toLangStr(ne.jsLang),accent:mn.toAccentStr(ne.jsLang,ne.jsAccent),totalResult:ne.jsTotalResult})});var s,l,c=$("#phoneticPanel");c.length&&(s=c,ci.fetch("/fetchphonetic.jsp",function(t){s.html(t),ne.jsEmbBGColor&&br()})),(c=$("#nearByPanel")).length&&(l=c,ci.fetch("/fetchsuggestions.jsp",function(t){l.html(t),ne.jsEmbBGColor&&br()}))}}function Nr(){if(0!=h&&0!=s){if(re({action:Ht.DOC_READY}),gr(),$(".submenu_trigger").click(function(t){!function(t,e){t=t||window.event;var n=$(".submenu"+e);n.css("top",t.pageY+10),n.css("left",t.pageX-15),n.slideToggle(100)}(t,$(this).data("whichone"))}),$(".submenu  .item").click(function(t){yr($(this).data("url"))}),or.init(),ne.shrVideo&&di.addShared(ne.shrVideo),$(".accent_selection").change(function(){var t=Number($(this).attr("data-bitwise"));$(this).is(":checked")?u|=t:u&=~t,cn(De+Qe+ne.jsLang,u+"",600),ln();var e=$(this).attr("data-target-id");e&&($(this).is(":checked")?$("#"+e).show():$("#"+e).hide())}),$("#exp_accent_button").click(function(t){t.preventDefault(),$(".accents_panel").slideToggle("fast","swing",function(){wr()})}),$(".ap_controls .closeBut").click(function(t){t.preventDefault(),$(".accents_panel").slideUp("fast")}),$(".accent .btn_acc").click(function(t){ie($(this).data("lang"),$(this).data("accent")),Sr()}),$("#searchbut").click(function(t){ie($(this).data("lang"),$(this).data("accent")),Sr()}),$(document).on("click","._ctxSearch",function(t){ne.jsLang==E&&(Zt=Xt.NO_SEGMENTATION),Ir($(this).html())}),ne.jsEmbedded){br();var t=$("#content_scroll").length;t&&0<ne.jsEmbHeight&&$("#content_scroll").height(ne.jsEmbHeight-$("#content_scroll").offset().top),$("#yg_link").click(function(t){Vo.pause()}),$(window).resize(function(){t&&0<ne.jsEmbHeight&&$("#content_scroll").height(ne.jsEmbHeight-$("#content_scroll").offset().top),te?wr():te=!0})}else $("#all_actions").on("click",".menu_ttl",function(t){if(t.preventDefault(),$(this).hasClass("openYT")){Vo.pause();var e=di.getCurrentTrack().vid;vr("https://www.youtube.com/watch?time_continue="+Math.floor(Vo.getCurrentTime())+"&v="+e)}else if($(this).hasClass("openDico")){if(Vo.pause(),$(this).data("enable")){var n=tn(Zn.getCaption().display),i=$(this).data("url");vr(i=i.replace("%txt%",qe(n)))}else Et(".mother_tongue_required")}else if(jr==Er)$r(this,t);else{if(jr==_r)return;jr=_r;var o=this,r=t;$("#actionpanels .lprogress").html("Loading, please wait...").show(),$.ajax({url:"/loadui.jsp?userlang="+ne.userLang+"&gender_query="+ne.jsIsGenderQuery+"&lg="+ne.jsLang+"&accent="+ne.jsAccent+"&lui=actions",success:function(t){0<(t=$.trim(t)).length&&($("#actionpanels").html(t),$r(o,r),jr=Er)}})}}),$("#all_actions").on("click",".at_btn",function(t){Ei.submitPanel(this),t.preventDefault()});$("body").on("mouseup touchend",function(t){for(var e=["#lang_pan_sel","#dico_selector_panel",".submenu_trigger"],n=[function(){triggerLangPanel(!0)},function(){fr(!0)},function(){$(".submenu").hide()}],i=e.length,o=0;o<i;o++)container=$(e[o]),container.length&&(container.is(t.target)||0!==container.has(t.target).length||n[o]())}),$("body").on("click","#footer_nav .social",function(){$(this).hasClass("fb")?vr("https://www.facebook.com/youglish"):vr("https://twitter.com/youglish")});var e=$("#q");e.length&&(e.keypress(function(t){if(13==t.which){var e=$("#searchbut");return ie(e.data("lang"),e.data("accent")),Sr(),t.stopPropagation(),t.preventDefault(),!1}}),e.val(ne.jsQuery),ne.reqType==Jt.INDEX&&e.focus()),$("#lang_sel li").hover(function(){$(this).addClass("hover")},function(){$(this).removeClass("hover")});var n=dn(Ae);n&&(n=Number(n),$("a").each(function(){var t=$(this);t.css("font-size",parseInt(t.css("font-size"))+n+"px")}),0<n&&($("body").css("margin-bottom","250px"),$(".footer").height("250px")))}}return $(function(){s=!0,Nr()}),t.PlayerAPI=Vo,t.EntryMng=di,t.DefineMng=Vn,t.Actions=Ei,t.CaptionMng=Zn,t.W_ACTION=Ht,t.K_ADULT=ge,t.K_ROMANIZATION=me,t.K_VID_PADDING_BOTTOM=xe,t.K_SHOWVIDEOINFO=ve,t.K_AUTO_NEXT=ye,t.K_SHOWEXTUI=$e,t.K_CAPCOLOR=we,t.K_MARKERCOLOR=Te,t.K_THUMBNAILSUPPORT=_e,t.K_CAPSIZE=je,t.K_VID_QUALITY=Se,t.K_LANGTRG=Ie,t.K_LNKSIZE=Ae,t.K_BACK_DURATION=Oe,t.K_DELAY_START=Le,t.K_UC_SIZE=Ue,t.K_COOKIE_DICO=Ye,t.K_MOTHER_TONGUE=ze,t.K_VERSION=Re,t.K_COOKIE_CONSENT=pe,t.K_CHROME_PATCH=Fe,t.resetCookies=function(t){hn(we),hn(Te),hn(_e),hn(je),hn(Ae),function(){for(var t=document.cookie.split("; "),e=0;e<t.length;e++)for(var n=window.location.hostname.split(".");0<n.length;){var i=encodeURIComponent(t[e].split(";")[0].split("=")[0])+"=; expires=Thu, 01-Jan-1970 00:00:01 GMT; domain="+n.join(".")+" ;path=",o=location.pathname.split("/");for(document.cookie=i+"/";0<o.length;)document.cookie=i+o.join("/"),o.pop();n.shift()}}(),hn(Re),hn(Fe),t&&(hn(ge),hn(ve),hn(ye),hn(me),hn(be),hn($e),hn(Se),hn(Oe),hn(Le),hn(xe),hn(Ye),hn(ze))},t.getAllowExtUI=function(){return Pt},t.postMsg=re,t.init=function(t){if(console.log("Welcome to YG-JS, vs: vs9.4"),j("init called - JS_VERSION: vs9.4"),Ar("init(B)"),typeof displayGDPR==typeof Function&&displayGDPR(),Tr(t),ne.jsResizeFrame&&re({action:Ht.WIDGET_RESIZE,height:ne.jsCurH,width:ne.jsCurW,update:0}),ne.reqType!=Jt.INDEX){if(ne.reqType!=Jt.LESSON_WORD){if(ne.reqType==Jt.LESSON_VIDEO?fo.init():(ne.jsYTAccess==Qt?null!==ne.jsonData&&("undefined"==typeof YT||void 0===YT.Player||(null!=ne.jumpToCID?di.jump2(ne.jsonData,ne.jumpToCID):di.fill(ne.jsonData))):di.fill(ne.jsonData),ne.jsDidumPro&&Ke()),ne.jsEmbedded){var e=$("#serializeMe :input[name=e_rest_mode]").val();Ut=0==e,0==ne.jsTotalResult&&re({action:Ht.UNREADY}),re({action:Ht.SEARCH_DONE,query:ne.jsQuery,lang:mn.toLangStr(ne.jsLang),accent:mn.toAccentStr(ne.jsLang,ne.jsAccent),totalResult:ne.jsTotalResult}),wr()}Vn.registerEvent(),Ar("init(E)")}}else"function"==typeof initHP&&initHP()},t.search=kr,t.replay=cr,t.go2=yr,t.scrollDlg=function(t,e,n){if($(e).length)He("#modalDef .modal-body",e);else{if(void 0===n)return void alert(t+" not available.");$(n).length?He("#modalDef .modal-body",n):alert(t+" not available.")}},t.scrollToTrg=function(t,e){var n=$(t);n.length?$("html, body").stop().animate({scrollTop:n.offset().top},250,"swing"):e&&e()},t.pronounce=Sr,t.showLs=function(t){$("#"+t+"Msg").hide(),$("#"+t).toggle("fast")},t.registerLs=function(i,o){var r=$("#email"+i).val();if(r.match(/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)){var a=$("#f"+i).val(),t=$(".pan_"+i+" textarea[name=g-recaptcha-response]").val(),e="/access.jsp?lang="+ne.jsLang+"&op=reglesson&type="+i+"&freq="+a+"&email="+encodeURIComponent(r)+"&g-recaptcha-response="+t;$.ajax({url:e,success:function(t){$("#email"+o).val(r),$("#f"+o).val(a);var e=kt(t=$.trim(t));$("#"+i).hide();var n=$("#"+i+"Msg");n.removeClass("lmsgerr").removeClass("lmsgok"),n.addClass(e.err?"lmsgerr":"lmsgok"),n.find("."+i+"txt").html(e.err?e.msg:"You have successfully registered for this lesson."),n.show(),e.err||setTimeout(function(){n.slideUp("fast")},2e3)},error:function(){alert("Registration error. Try again later")}})}else alert("Enter a correct email and try again.")},t.closeById=function(t,e){e?$("#"+t).fadeOut():$("#"+t).hide()},t.readCookie=dn,t.createCookie=cn,t.eraseCookie=hn,t.toggleAdult=function(t){_n(!Ut)},t.showVideoInfo=function(t){cn(ve,(Rt=t)+"",600)},t.autoNext=function(t){cn(ye,(zt=t)+"",600),zt&&(Ve=-.8)},t.showExtUI=function(t){cn($e,(Pt=t)+"",600)},t.autoPlay=function(t){cn(be,t+"",600)},t.setCookieSupport=function(t){Cn=Number(t),cn(fe,t,3650),function(){for(var t=document.cookie.split(";"),e=0;e<t.length;e++){var n=t[e],i=n.indexOf("="),o=-1<i?n.substr(0,i):n;Tn(o)?console.log("skipping: "+o):hn(o)}}()},t.setAdult=_n,t.showRomanization=function(t){cn(me,(Ft=t)+"",600)},t.logout=function(t,e){yr("/logout?ub="+(e=e||(t?"/"+mn.toLangStr(t):"/")))},t.getBackDuration=function(){return At},t.getDelayStart=function(){return St},t.setDelayStart=function(t){St=t},t.setVersion=ln,t.showGenDlg=Et,t}();